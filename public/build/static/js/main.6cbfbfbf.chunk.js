(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{223:function(e,t,a){e.exports=a(440)},286:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getNovelList",function(){return Q}),a.d(n,"getNovelInfo",function(){return W}),a.d(n,"handleInputChange",function(){return Z}),a.d(n,"handleChange",function(){return $}),a.d(n,"handleSubmit",function(){return ee});var l={};a.r(l),a.d(l,"getChannelList",function(){return he}),a.d(l,"handleDeleteItem",function(){return fe}),a.d(l,"changeChannelInput",function(){return ge}),a.d(l,"changeGonghaoInput",function(){return ye}),a.d(l,"uploadImage",function(){return be}),a.d(l,"handleCreate",function(){return Ee}),a.d(l,"initState",function(){return ve}),a.d(l,"handleUpdate",function(){return ke}),a.d(l,"getAdzones",function(){return _e}),a.d(l,"handleKeyChange",function(){return Oe}),a.d(l,"handlePlatformChange",function(){return Ie}),a.d(l,"handleAdkeyChange",function(){return Ce}),a.d(l,"addItemToList",function(){return je}),a.d(l,"saveUpdateItem",function(){return xe}),a.d(l,"updateItem",function(){return Se}),a.d(l,"deleteAdItem",function(){return Ne}),a.d(l,"submitAdList",function(){return we});var r=a(0),i=a.n(r),c=a(9),o=a.n(c),u=a(15),d=a(16),s=a(19),m=a(17),p=a(18),h=a(38),f=a(26),g=a(67),y=a(90),b=a(91);function E(){var e=Object(y.a)(["\n  margin-right: 30px;\n"]);return E=function(){return e},e}function v(){var e=Object(y.a)(["\n  float: right;\n  font-size: 14px;\n"]);return v=function(){return e},e}function k(){var e=Object(y.a)(["\n  float: left;\n  font-size: 24px;\n  letter-spacing: 2px;\n"]);return k=function(){return e},e}function _(){var e=Object(y.a)(["\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 60px;\n  line-height: 60px;\n  padding: 0 30px;\n  box-sizing: border-box;\n  background: #fff;\n  box-shadow: 0 0 8px rgba(0, 0, 0, .2);\n"]);return _=function(){return e},e}var O=b.a.div(_()),I=b.a.div(k()),C=b.a.div(v()),j=b.a.span(E()),x=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(O,null,i.a.createElement(f.b,{to:"/novel"},i.a.createElement(I,null,"\u5c0f\u8bf4\u7ba1\u7406\u540e\u53f0")),i.a.createElement(C,null,i.a.createElement(j,null,"\u6d88\u606f"),i.a.createElement(j,null,"\u9000\u51fa")))}}]),t}(r.PureComponent),S=a(150),N=S.b.SubMenu,w=S.b.Item,A=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{width:"240px",height:"100vh",position:"fixed",top:"65px",left:0,borderRight:"1px solid #eee"}},i.a.createElement(S.b,{mode:"inline",defaultSelectedKeys:["1"]},i.a.createElement(w,{key:"1"},i.a.createElement(f.b,{to:"/build"},"\u9996\u9875")),i.a.createElement(N,{title:i.a.createElement("span",null,"\u5a92\u4f53\u7ba1\u7406")},i.a.createElement(w,null,i.a.createElement(f.b,{to:"/build/media/create"},"\u521b\u5efa\u5a92\u4f53")),i.a.createElement(w,null,i.a.createElement(f.b,{to:"/build/media/show"},"\u5a92\u4f53\u5217\u8868"))),i.a.createElement(N,{title:i.a.createElement("span",null,"\u5e7f\u544a\u4f4d\u7ba1\u7406")},i.a.createElement(w,null,i.a.createElement(f.b,{to:"/build/advertise/create"},"\u521b\u5efa\u5e7f\u544a\u4f4d")),i.a.createElement(w,null,i.a.createElement(f.b,{to:"/build/advertise/show"},"\u5e7f\u544a\u4f4d\u5217\u8868"))),i.a.createElement(w,{key:"4"},i.a.createElement(f.b,{to:"/build/novel"},"\u5c0f\u8bf4\u7ba1\u7406")),i.a.createElement(w,{key:"5"},i.a.createElement(f.b,{to:"/build/channel"},"\u6e20\u9053\u7ba1\u7406"))))}}]),t}(r.PureComponent),P=a(44),z=a(445),L=a(442),D=(a(286),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[{key:"date",dataIndex:"date",title:"\u65e5\u671f",align:"center"},{key:"rechargeIncome",dataIndex:"rechargeIncome",title:"\u5c0f\u8bf4\u5145\u503c\u6536\u5165",align:"center"},{key:"adIncome",dataIndex:"adIncome",title:"\u5e7f\u544a\u6536\u5165",align:"center"},{key:"generalIncome",dataIndex:"generalIncome",title:"\u603b\u6536\u5165",align:"center"},{key:"proportion",dataIndex:"proportion",title:"\u5206\u6210\u6bd4\u4f8b",align:"center"},{key:"proportionIncome",dataIndex:"proportionIncome",title:"\u5206\u6210\u6536\u2f0a",align:"center"},{key:"action",title:"\u64cd\u4f5c",align:"center",render:function(e,t,a){return i.a.createElement(P.a,{type:"primary",size:"small"},"\u7f16\u8f91")}}];return i.a.createElement("div",{className:"home"},i.a.createElement(z.a,{className:"card_wrapper",title:"\u8d26\u6237\u6536\u5165",headStyle:{color:"#00a0fe",fontSize:"24px",border:0},bordered:!1},i.a.createElement(z.a,{className:"card_item"},i.a.createElement("p",{className:"account_title"},"\u8d26\u6237\u4f59\u989d\uff08\u5143\uff09"),i.a.createElement("span",{className:"account_num"},"4567.89")),i.a.createElement(z.a,{className:"card_item"},i.a.createElement("p",{className:"account_title"},"\u7d2f\u8ba1\u6536\u2f0a\uff08\u5143\uff09"),i.a.createElement("span",{className:"account_num"},"4567.89"))),i.a.createElement(L.a,{className:"table_list",bordered:!0,columns:e,dataSource:[{date:"2019-04-18",rechargeIncome:"321.09",adIncome:"321.09",generalIncome:"321.09",proportion:"90%",proportionIncome:"876.54",key:"1"}]}))}}]),t}(r.PureComponent)),R=a(446),J=a(443),U=a(110),B=R.a.TextArea,T=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(J.a,{labelCol:{sm:{span:2}},wrapperCol:{sm:{span:8}},colon:!1},i.a.createElement(J.a.Item,{label:"\u5a92\u4f53\u540d\u79f0"},i.a.createElement(R.a,null)),i.a.createElement(J.a.Item,{label:"\u5a92\u4f53\u7c7b\u578b"},i.a.createElement(U.a.Group,null,i.a.createElement(U.a,{value:"andriod"},"Ardroid"),i.a.createElement(U.a,{value:"ios"},"IOS"),i.a.createElement(U.a,{value:"wechat"},"\u5fae\u4fe1"),i.a.createElement(U.a,{value:"others"},"\u5176\u4ed6"))),i.a.createElement(J.a.Item,{label:"\u5e94\u7528\u7b80\u4ecb"},i.a.createElement(B,{rows:4})),i.a.createElement(J.a.Item,{label:" "},i.a.createElement(P.a,{type:"primary"},"\u7acb\u5373\u521b\u5efa")))}}]),t}(r.PureComponent),K=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(L.a,{bordered:!0,columns:[{key:"type",title:"\u5a92\u4f53\u7c7b\u578b",dataIndex:"type",align:"center"},{key:"name",title:"\u5a92\u4f53\u540d\u79f0",dataIndex:"name",align:"center"},{key:"api_key",title:"API KEY",dataIndex:"api_key",align:"center"}],dataSource:[{type:"IOS",name:"\u5fae\u4fe1\u8ba2\u9605\u53f7",api_key:"72acadabc56eaee10d593ce6f0629508",key:"1"}]})}}]),t}(r.PureComponent),F=a(88),M=F.a.Option,G=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(J.a,{labelCol:{sm:{span:3}},wrapperCol:{sm:{span:8}},colon:!1},i.a.createElement(J.a.Item,{label:"\u5a92\u4f53\u9009\u62e9"},i.a.createElement(F.a,{defaultValue:"lucy",style:{width:120}},i.a.createElement(M,{value:"jack"},"Jack"),i.a.createElement(M,{value:"lucy"},"Lucy"),i.a.createElement(M,{value:"disabled",disabled:!0},"Disabled"),i.a.createElement(M,{value:"Yiminghe"},"yiminghe"))),i.a.createElement(J.a.Item,{label:"\u5e7f\u544a\u4f4d\u5f62\u5f0f"},i.a.createElement(U.a.Group,null,i.a.createElement(U.a,{value:"icon"},"\u56fe\u6807"))),i.a.createElement(J.a.Item,{label:"\u5e7f\u544a\u4f4d\u540d\u79f0"},i.a.createElement(R.a,{placeholder:"\u965020\u4e2a\u5b57"})),i.a.createElement(J.a.Item,{label:" "},i.a.createElement(P.a,{type:"primary"},"\u7acb\u5373\u521b\u5efa")))}}]),t}(r.PureComponent),Y=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[{key:"ad_name",title:"\u2f34\u544a\u4f4d\u540d\u79f0",dataIndex:"ad_name",align:"center"},{key:"media",title:"\u6240\u5c5e\u5a92\u4f53",dataIndex:"media",align:"center"},{key:"ad_type",title:"\u5e7f\u544a\u4f4d\u5f62\u5f0f",dataIndex:"ad_type",align:"center"},{key:"action",title:"\u64cd\u4f5c",align:"center",render:function(e,t,a){return i.a.createElement(P.a,{type:"primary",size:"small"},"\u590d\u5236\u94fe\u63a5")}}];return i.a.createElement(L.a,{bordered:!0,columns:e,dataSource:[{ad_name:"\u5c0f\u8bf4\u5e7f\u544a",media:"\u8c46\u76df",ad_type:"\u56fe\u6807",key:"1"}]})}}]),t}(r.PureComponent),V={list:[],page_title:"",image_url:"",title:"",_id:"",rules:[]},X=a(31),q=a.n(X),H=a(447),Q=function(){return function(e){q.a.get("http://h.tyuss.com/book/all").then(function(t){var a=t.data.data;e({type:"novel/get_novel_list",list:a})})}},W=function(e){return function(t){t({type:"novel/get_novel_info",novelInfo:e})}},Z=function(e){return{type:"novel/change_input",page_title:e}},$=function(e){return{type:"novel/upload_image",image_url:e}},ee=function(e){return function(t){q.a.post("http://h.tyuss.com/book/update",{id:e._id,page_title:e.page_title,image_url:e.image_url}).then(function(a){"\u6210\u529f"===a.data.success&&(H.a.success("\u4fee\u6539\u6210\u529f"),t({type:"novel/submit_form"}),e.history.goBack())})}},te=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.list,t=[{key:"id",dataIndex:"id",title:"\u5c0f\u8bf4id",align:"center"},{key:"title",dataIndex:"title",title:"\u5c0f\u8bf4\u540d\u79f0",align:"center"},{key:"page_title",dataIndex:"page_title",title:"\u9996\u7ae0\u6807\u9898",align:"center"},{key:"image_url",title:"banner\u56fe",align:"center",render:function(e,t,a){return i.a.createElement("img",{src:t.image_url,style:{width:"100px",verticalAlign:"middle"},alt:""})}},{key:"action",title:"\u64cd\u4f5c",align:"center",render:function(e,t,a){return i.a.createElement("div",null,i.a.createElement(P.a,{style:{marginRight:"10px"},size:"small",type:"primary"},i.a.createElement(f.b,{to:"/build/novel/modify?record="+JSON.stringify(t)},"\u4fee\u6539")),i.a.createElement(P.a,{size:"small"},i.a.createElement(f.b,{to:"/build/novel/config?id="+t.id+"&title="+t.title},"\u914d\u7f6e")))}}];return i.a.createElement(L.a,{rowKey:function(e){return e._id},columns:t,dataSource:e,bordered:!0,pagination:!1})}},{key:"componentDidMount",value:function(){this.props.getNovelList()}}]),t}(r.PureComponent),ae=Object(h.b)(function(e){return{list:e.get("novel").list,columns:e.get("novel").columns}},function(e){return{getNovelList:function(){e(n.getNovelList())}}})(te),ne=a(444),le=a(11),re=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.page_title,n=t.title,l=t.image_url,r=t.handleInputChange,c=t.handleChange,o=t.handleSubmit,u={action:"http://h.tyuss.com/book/upload",onChange:c,showUploadList:!1,name:"imageFile"};return i.a.createElement("div",{className:"modify"},i.a.createElement(J.a,{labelCol:{sm:{span:3}},wrapperCol:{sm:{span:8}}},i.a.createElement(J.a.Item,{label:"\u5c0f\u8bf4\u540d\u79f0"},i.a.createElement("h3",null,n)),i.a.createElement(J.a.Item,{label:"\u9875\u9762\u6807\u9898"},i.a.createElement(R.a,{value:a,placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u6807\u9898",onChange:r})),i.a.createElement(J.a.Item,{label:"banner\u56fe"},i.a.createElement(ne.a,u,""===l?i.a.createElement(P.a,null,i.a.createElement(le.a,{type:"upload"}),"\u4e0a\u4f20\u56fe\u7247"):i.a.createElement("img",{style:{width:"200px"},src:l,alt:""}))),i.a.createElement(J.a.Item,{style:{marginLeft:"100px"}},i.a.createElement(P.a,{style:{marginRight:"20px"},type:"primary",onClick:function(){o(e.props)}},"\u63d0\u4ea4"),i.a.createElement(P.a,{type:"danger",onClick:function(){return e.props.history.goBack()}},"\u53d6\u6d88"))))}},{key:"componentDidMount",value:function(){var e=decodeURI(this.props.location.search);e=JSON.parse(e.split("=")[1]),this.props.getNovelInfo(e)}}]),t}(r.PureComponent),ie=Object(h.b)(function(e){return{page_title:e.get("novel").page_title,image_url:e.get("novel").image_url,title:e.get("novel").title,_id:e.get("novel")._id}},function(e){return{getNovelInfo:function(t){e(n.getNovelInfo(t))},handleInputChange:function(t){var a=t.target.value;e(n.handleInputChange(a))},handleChange:function(t){if("done"===t.file.status){var a="http://h.tyuss.com/uploads/"+t.file.response.image_url;e(n.handleChange(a))}},handleSubmit:function(t){e(n.handleSubmit(t))}}})(re),ce=a(68),oe=a(29),ue=a(441),de=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(s.a)(this,Object(m.a)(t).call(this,e));var n=decodeURI(e.location.search),l=n.split("=")[1].split("&")[0],r=n.split("=")[2];return a.state={rules:[],book:{id:l,title:r},chapterCount:null},a.handleDeleteItem=a.handleDeleteItem.bind(Object(oe.a)(Object(oe.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this,a=this.state.rules,n=[{key:"price",dataIndex:"price",title:"\u91d1\u989d",align:"center"},{key:"start_index",dataIndex:"start_index",title:"\u8d77\u59cb\u7ae0\u8282",align:"center"},{key:"end_index",dataIndex:"end_index",title:"\u7ed3\u675f\u7ae0\u8282",align:"center"},{key:"action",title:"Action",align:"center",render:function(e,a,n){return i.a.createElement(ue.a,{title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417?",onConfirm:function(){return t.handleDeleteItem(a,n)},okText:"Yes",cancelText:"No"},i.a.createElement(P.a,{size:"small",type:"danger"},"Delete"))}}];return i.a.createElement(r.Fragment,null,i.a.createElement("span",{style:{float:"right",marginRight:"30px"}},"\u5171 ",this.state.chapterCount," \u7ae0"),i.a.createElement(P.a,{style:{margin:"0 30px 30px 0"},type:"primary"},i.a.createElement(f.b,{to:"/build/novel/config/create?id="+this.state.book.id+"&title="+this.state.book.title},"\u521b\u5efa\u89c4\u5219")),i.a.createElement(P.a,{onClick:function(){return e.props.history.goBack()}},"\u8fd4\u56de\u4e0a\u4e00\u7ea7"),i.a.createElement(L.a,{bordered:!0,rowKey:function(e){return e._id},columns:n,dataSource:a,pagination:!1}))}},{key:"componentDidMount",value:function(){var e=this;q.a.get("http://h.tyuss.com/rule",{params:{id:this.state.book.id}}).then(function(t){if("\u6210\u529f"===t.data.success){var a=t.data.data,n=t.data.chapter_count;e.setState(function(){return{rules:a,chapterCount:n}})}})}},{key:"handleDeleteItem",value:function(e,t){var a=this;q.a.get("http://h.tyuss.com/rule/delete",{params:{id:e._id}}).then(function(e){if("\u6210\u529f"===e.data.success){var n=a.state.rules;n.splice(t,1),a.setState(function(){return{rules:Object(ce.a)(n)}}),H.a.success("\u4fee\u6539\u6210\u529f")}else H.a.error("\u5220\u9664\u5931\u8d25")})}}]),t}(r.PureComponent),se=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(s.a)(this,Object(m.a)(t).call(this,e));var n=decodeURI(e.location.search),l=n.split("=")[1].split("&")[0],r=n.split("=")[2];return a.state={book:{id:l,title:r},price:null,start:null,end:null},a.handlePriceChange=a.handlePriceChange.bind(Object(oe.a)(Object(oe.a)(a))),a.handleStartChange=a.handleStartChange.bind(Object(oe.a)(Object(oe.a)(a))),a.handleEndChange=a.handleEndChange.bind(Object(oe.a)(Object(oe.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(oe.a)(Object(oe.a)(a))),a.handleCancel=a.handleCancel.bind(Object(oe.a)(Object(oe.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(J.a,{labelCol:{sm:{span:3}},wrapperCol:{sm:{span:8}}},i.a.createElement(J.a.Item,{label:"\u5c0f\u8bf4\u540d\u79f0"},i.a.createElement("h3",null,this.state.book.title)),i.a.createElement(J.a.Item,{label:"\u4ed8\u8d39\u91d1\u989d"},i.a.createElement(R.a,{value:this.state.price,placeholder:"\u8bf7\u8f93\u5165\u4ed8\u8d39\u91d1\u989d",onChange:this.handlePriceChange})),i.a.createElement(J.a.Item,{label:"\u8d77\u59cb\u7ae0\u8282"},i.a.createElement(R.a,{value:this.state.start,placeholder:"\u8bf7\u8f93\u5165\u8d77\u59cb\u7ae0\u8282",onChange:this.handleStartChange})),i.a.createElement(J.a.Item,{label:"\u7ed3\u675f\u7ae0\u8282"},i.a.createElement(R.a,{value:this.state.end,placeholder:"\u8bf7\u8f93\u5165\u7ed3\u675f\u7ae0\u8282",onChange:this.handleEndChange})),i.a.createElement(J.a.Item,{style:{textAlign:"center"}},i.a.createElement(P.a,{style:{marginRight:"20px"},type:"primary",onClick:this.handleSubmit},"\u63d0\u4ea4"),i.a.createElement(P.a,{type:"danger",onClick:this.handleCancel},"\u53d6\u6d88")))}},{key:"handlePriceChange",value:function(e){var t=e.target.value;this.setState(function(){return{price:t}})}},{key:"handleStartChange",value:function(e){var t=e.target.value;this.setState(function(){return{start:t}})}},{key:"handleEndChange",value:function(e){var t=e.target.value;this.setState(function(){return{end:t}})}},{key:"handleSubmit",value:function(){var e=this,t=this.state;q.a.post("http://h.tyuss.com/rule/create",{bid:Number(t.book.id),start:Number(t.start),end:Number(t.end),price:Number(t.price)}).then(function(t){"\u6210\u529f"===t.data.success&&(H.a.success("\u521b\u5efa\u6210\u529f"),e.props.history.goBack())})}},{key:"handleCancel",value:function(){this.props.history.goBack()}}]),t}(r.PureComponent),me={list:[],title:"",official:{name:"",image:"",appid:"",appsecret:""},id:"",ad_list:[],keys:"",platform:"",adkey:"",index:null},pe="http://www.tyuss.com",he=function(){return function(e){q.a.get(pe+"/distribution/all").then(function(t){if("\u6210\u529f"===t.data.success){var a=t.data.data;e({type:"channel/get_channel_list",list:a})}})}},fe=function(e,t,a){return function(n){q.a.get(pe+"/distribution/delete",{params:{id:t._id}}).then(function(t){"\u6210\u529f"===t.data.success&&(e.splice(a,1),H.a.success("\u5220\u9664\u6210\u529f"),n({type:"channel/delete_item",list:e}))})}},ge=function(e){return{type:"channel/change_channel_input",title:e}},ye=function(e){return{type:"channel/change_gonghao_input",name:e}},be=function(e){return{type:"channel/upload_image",image:e}},Ee=function(e){return function(t){q.a.post(pe+"/distribution/create",{title:e.title,official:e.official}).then(function(a){"\u6210\u529f"===a.data.success&&(H.a.success("\u521b\u5efa\u6210\u529f"),t({type:"channel/create_form"}),e.history.goBack())})}},ve=function(e){return{type:"channel/init_state",data:e}},ke=function(e){return function(t){q.a.post(pe+"/distribution/update",{id:e.id,title:e.title,official:e.official}).then(function(a){"\u6210\u529f"===a.data.success&&(H.a.success("\u4fee\u6539\u6210\u529f"),t({type:"channel/update_form"}),e.history.goBack())})}},_e=function(e){return function(t){q.a.get(pe+"/distribution/adzones",{params:{id:e}}).then(function(e){if("\u6210\u529f"===e.data.success){var a=e.data.data;t({type:"channel/get_adzones_info",data:a})}})}},Oe=function(e){return{type:"channel/change_key_input",keys:e}},Ie=function(e){return{type:"channel/change_platform_input",platform:e}},Ce=function(e){return{type:"channel/change_adkey_input",adkey:e}},je=function(e){return{type:"channel/add_item_to_list",props:e}},xe=function(e){return{type:"channel/save_update_item",props:e}},Se=function(e,t){return{type:"channel/update_item",record:e,index:t}},Ne=function(e){return{type:"channel/delete_ad_item",index:e}},we=function(e){var t=e.location.search.split("=")[1].split("&")[0];return function(a){q.a.post(pe+"/distribution/update/adzones",{id:t,adzone_list:e.list}).then(function(t){"\u6210\u529f"===t.data.success&&(console.log(t.data),a({type:"channel/submit_ad_list"}),e.history.goBack())})}},Ae=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.list,a=e.handleDeleteItem,n=[{key:"_id",dataIndex:"_id",title:"_id",align:"center"},{key:"title",dataIndex:"title",title:"\u6e20\u9053\u540d\u79f0",align:"center"},{key:"name",dataIndex:"name",title:"\u516c\u53f7\u540d\u79f0",align:"center",render:function(e,t){return i.a.createElement("span",null,t.official.name||"")}},{key:"image",title:"\u516c\u53f7\u56fe\u7247",align:"center",render:function(e,t){return i.a.createElement("img",{style:{width:"120px",verticalAlign:"middle"},src:t.official.image||"",alt:""})}},{key:"action",title:"Action",align:"center",render:function(e,n,l){var c=JSON.stringify(n);return i.a.createElement(r.Fragment,null,i.a.createElement(P.a,{style:{marginRight:"20px"},size:"small"},i.a.createElement(f.b,{to:"/build/channel/update?data="+c},"\u57fa\u7840\u914d\u7f6e")),i.a.createElement(P.a,{style:{marginRight:"20px"},size:"small",type:"primary"},i.a.createElement(f.b,{to:"/build/channel/advertise?id="+n._id+"&title="+n.title},"\u5e7f\u544a\u914d\u7f6e")),i.a.createElement(ue.a,{title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417?",onConfirm:function(){return a(t,n,l)},okText:"Yes",cancelText:"No"},i.a.createElement(P.a,{size:"small",type:"danger"},"\u5220\u9664")))}}];return i.a.createElement(r.Fragment,null,i.a.createElement(P.a,{style:{marginBottom:"30px"},type:"primary"},i.a.createElement(f.b,{to:"/build/channel/create"},"\u6dfb\u52a0\u6e20\u9053")),i.a.createElement(L.a,{bordered:!0,rowKey:function(e){return e._id},columns:n,dataSource:t,pagination:!1}))}},{key:"componentDidMount",value:function(){this.props.getChannelList()}}]),t}(r.PureComponent),Pe=Object(h.b)(function(e){return{list:e.get("channel").list}},function(e){return{getChannelList:function(){e(l.getChannelList())},handleDeleteItem:function(t,a,n){e(l.handleDeleteItem(t,a,n))}}})(Ae),ze=a(78),Le=a(218),De=a(219),Re=Object(De.combineReducers)({novel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;if("novel/get_novel_list"===t.type){var a=JSON.parse(JSON.stringify(e));return a.list=t.list,a}if("novel/get_novel_info"===t.type){var n=JSON.parse(JSON.stringify(e));return n.page_title=t.novelInfo.page_title,n.image_url=t.novelInfo.image_url,n.title=t.novelInfo.title,n._id=t.novelInfo._id,n}if("novel/change_input"===t.type){var l=JSON.parse(JSON.stringify(e));return l.page_title=t.page_title,l}if("novel/upload_image"===t.type){var r=JSON.parse(JSON.stringify(e));return r.image_url=t.image_url,r}return e},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"channel/get_channel_list":return a.list=t.list,a;case"channel/delete_item":return a.list=Object(ce.a)(t.list),a;case"channel/change_channel_input":return a.title=t.title,a;case"channel/change_gonghao_input":return a.official.name=t.name,a;case"channel/upload_image":return a.official.image=t.image,a;case"channel/init_state":return a.official=t.data.official,a.title=t.data.title,a.id=t.data._id,a;case"channel/get_adzones_info":if(a.ad_list=Object(ce.a)(t.data.list),0!==a.ad_list.length){var n=a.ad_list[0];a.keys=n.key,a.platform=n.platform,a.adkey=n.adkey,a.index=0}return a;case"channel/change_key_input":return a.keys=t.keys,a;case"channel/change_platform_input":return a.platform=t.platform,a;case"channel/change_adkey_input":return a.adkey=t.adkey,a;case"channel/add_item_to_list":return a.ad_list.push({key:t.props.keys,platform:t.props.platform,adkey:t.props.adkey}),a.keys=a.platform=a.adkey="",a;case"channel/save_update_item":return a.ad_list.splice(t.props.index,1,{key:t.props.keys,platform:t.props.platform,adkey:t.props.adkey}),a.keys=a.platform=a.adkey="",a.index=null,a;case"channel/update_item":return a.keys=t.record.key,a.platform=t.record.platform,a.adkey=t.record.adkey,a.index=t.index,a;case"channel/delete_ad_item":return a.ad_list.splice(t.index,1),a.keys=a.platform=a.adkey="",a.index=null,a;default:return e}}}),Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ze.c,Ue=Object(ze.d)(Re,Je(Object(ze.a)(Le.a))),Be=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.official,l=t.changeChannelInput,r=t.changeGonghaoInput,c=t.uploadImage,o=t.handleCreate,u=t.handleUpdate,d=t.location,s={action:pe+"/distribution/upload",onChange:c,showUploadList:!1,name:"imageFile"},m=d.search?i.a.createElement(P.a,{style:{marginRight:"20px"},type:"primary",onClick:function(){u(e.props)}},"\u4fee\u6539"):i.a.createElement(P.a,{style:{marginRight:"20px"},type:"primary",onClick:function(){o(e.props)}},"\u521b\u5efa");return i.a.createElement(J.a,{labelCol:{sm:{span:3}},wrapperCol:{sm:{span:8}}},i.a.createElement(J.a.Item,{label:"\u6e20\u9053\u540d\u79f0"},i.a.createElement(R.a,{value:a,onChange:l,placeholder:"\u8bf7\u8f93\u5165\u6e20\u9053\u540d\u79f0"})),i.a.createElement(J.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},i.a.createElement(R.a,{value:n.name,onChange:r,placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0"})),i.a.createElement(J.a.Item,{label:"\u516c\u53f7\u56fe\u7247"},i.a.createElement(ne.a,s,""===n.image?i.a.createElement(P.a,null,i.a.createElement(le.a,{type:"upload"}),"\u4e0a\u4f20\u56fe\u7247"):i.a.createElement("img",{style:{width:"200px"},src:n.image,alt:""}))),i.a.createElement(J.a.Item,{style:{marginLeft:"100px"}},m,i.a.createElement(P.a,{type:"danger",onClick:function(){return e.props.history.goBack()}},"\u53d6\u6d88")))}},{key:"componentDidMount",value:function(){if(this.props.location.search){var e=decodeURI(this.props.location.search);e=JSON.parse(e.split("=")[1]),this.props.initState(e)}}}]),t}(r.PureComponent),Te=Object(h.b)(function(e){return{title:e.get("channel").title,official:e.get("channel").official,id:e.get("channel").id}},function(e){return{changeChannelInput:function(t){var a=t.target.value;e(l.changeChannelInput(a))},changeGonghaoInput:function(t){var a=t.target.value;e(l.changeGonghaoInput(a))},uploadImage:function(t){if("done"===t.file.status){var a=pe+"/distributions/"+t.file.response.image_url;e(l.uploadImage(a))}},handleCreate:function(t){e(l.handleCreate(t))},initState:function(t){e(l.initState(t))},handleUpdate:function(t){e(l.handleUpdate(t))}}})(Be),Ke=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.list,l=a.keys,c=a.platform,o=a.index,u=a.adkey,d=a.location,s=a.handleKeyChange,m=a.handlePlatformChange,p=a.handleAdkeyChange,h=a.addItemToList,f=a.saveUpdateItem,g=a.updateItem,y=a.deleteAdItem,b=a.submitAdList,E=decodeURI(d.search.split("=")[2]),v=[{key:"key",dataIndex:"key",title:"key",align:"center"},{key:"platform",dataIndex:"platform",title:"\u5e7f\u544a\u540d\u79f0",align:"center"},{key:"adkey",dataIndex:"adkey",title:"\u5e7f\u544a\u540d\u79f0",align:"center"},{key:"action",title:"Action",align:"center",render:function(e,t,a){return i.a.createElement(r.Fragment,null,i.a.createElement(P.a,{size:"small",style:{marginRight:"20px"},type:"primary",onClick:function(){g(t,a)}},"\u4fee\u6539"),i.a.createElement(P.a,{size:"small",type:"danger",onClick:function(){y(a)}},"\u5220\u9664"))}}];return e=l&&c&&u&&null!==o?i.a.createElement(P.a,{style:{marginLeft:"130px"},onClick:function(){f(t.props)}},"\u4fdd\u5b58"):i.a.createElement(P.a,{style:{marginLeft:"130px"},onClick:function(){h(t.props)}},"\u6dfb\u52a0"),i.a.createElement(r.Fragment,null,i.a.createElement(J.a,{labelCol:{sm:{span:3}},wrapperCol:{sm:{span:8}}},i.a.createElement(J.a.Item,{label:"\u6e20\u9053\u540d\u79f0"},i.a.createElement("h3",null,E)),i.a.createElement(J.a.Item,{label:"key"},i.a.createElement(R.a,{value:l,placeholder:"\u8bf7\u8f93\u5165key",onChange:s})),i.a.createElement(J.a.Item,{label:"\u5e7f\u544a\u5e73\u53f0"},i.a.createElement(R.a,{value:c,placeholder:"\u8bf7\u8f93\u5165\u5e7f\u544a\u5e73\u53f0",onChange:m})),i.a.createElement(J.a.Item,{label:"adkey"},i.a.createElement(R.a,{value:u,placeholder:"\u8bf7\u8f93\u5165adkey",onChange:p})),i.a.createElement(J.a.Item,null,e)),i.a.createElement(L.a,{bordered:!0,columns:v,dataSource:n,pagination:!1}),i.a.createElement("div",{style:{margin:"30px 0 0 100px"}},i.a.createElement(P.a,{style:{marginRight:"20px"},type:"primary",onClick:function(){b(t.props)}},"\u63d0\u4ea4"),i.a.createElement(P.a,{type:"danger",onClick:function(){t.props.history.goBack()}},"\u8fd4\u56de")))}},{key:"componentDidMount",value:function(){this.props.getAdzones(this.props.location.search.split("=")[1].split("&")[0])}}]),t}(r.PureComponent),Fe=Object(h.b)(function(e){return{list:Object(ce.a)(e.get("channel").ad_list),keys:e.get("channel").keys,platform:e.get("channel").platform,adkey:e.get("channel").adkey,index:e.get("channel").index}},function(e){return{getAdzones:function(t){e(l.getAdzones(t))},handleKeyChange:function(t){var a=t.target.value;e(l.handleKeyChange(a))},handlePlatformChange:function(t){var a=t.target.value;e(l.handlePlatformChange(a))},handleAdkeyChange:function(t){var a=t.target.value;e(l.handleAdkeyChange(a))},addItemToList:function(t){e(l.addItemToList(t))},saveUpdateItem:function(t){e(l.saveUpdateItem(t))},updateItem:function(t,a){e(l.updateItem(t,a))},deleteAdItem:function(t){e(l.deleteAdItem(t))},submitAdList:function(t){e(l.submitAdList(t))}}})(Ke),Me=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(h.a,{store:Ue},i.a.createElement(f.a,null,i.a.createElement(x,null),i.a.createElement(A,null),i.a.createElement("div",{style:{margin:"65px 0 0 241px"}},i.a.createElement(g.b,{path:"/",exact:!0,render:function(){return i.a.createElement(g.a,{to:"/build"})}}),i.a.createElement(g.b,{path:"/build",exact:!0,component:D}),i.a.createElement("div",{style:{padding:"30px"}},i.a.createElement(g.b,{path:"/build/media/create",component:T}),i.a.createElement(g.b,{path:"/build/media/show",component:K}),i.a.createElement(g.b,{path:"/build/advertise/create",component:G}),i.a.createElement(g.b,{path:"/build/advertise/show",component:Y}),i.a.createElement(g.b,{path:"/build/novel",exact:!0,component:ae}),i.a.createElement(g.b,{path:"/build/novel/modify",component:ie}),i.a.createElement(g.b,{path:"/build/novel/config",exact:!0,component:de}),i.a.createElement(g.b,{path:"/build/novel/config/create",component:se}),i.a.createElement(g.b,{path:"/build/channel",exact:!0,component:Pe}),i.a.createElement(g.b,{path:"/build/channel/create",exact:!0,component:Te}),i.a.createElement(g.b,{path:"/build/channel/update",exact:!0,component:Te}),i.a.createElement(g.b,{path:"/build/channel/advertise",exact:!0,component:Fe})))))}}]),t}(r.PureComponent);a(438),a(439);o.a.render(i.a.createElement(function(){return i.a.createElement(r.Fragment,null,i.a.createElement(Me,null))},null),document.getElementById("root"))}},[[223,1,2]]]);
//# sourceMappingURL=main.6cbfbfbf.chunk.js.map