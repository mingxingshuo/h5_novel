{"version":3,"sources":["pages/novel/config/create/index.js"],"names":["CreateRule","_this","this","_this$props","props","book","price","start","end","handlePriceChange","handleStartChange","handleEndChange","handleSubmit","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","antd__WEBPACK_IMPORTED_MODULE_6__","labelCol","sm","span","wrapperCol","Item","label","title","antd__WEBPACK_IMPORTED_MODULE_7__","value","placeholder","onChange","style","textAlign","antd__WEBPACK_IMPORTED_MODULE_8__","marginRight","type","onClick","history","goBack","record","decodeURI","location","search","id","split","setBookInfo","resetState","PureComponent","connect","state","novel","dispatch","actionCreators","e","target","submitRules","withRouter"],"mappings":"iNAMMA,mLAEK,IAAAC,EAAAC,KAAAC,EACkGD,KAAKE,MAAtGC,EADDF,EACCE,KAAMC,EADPH,EACOG,MAAOC,EADdJ,EACcI,MAAOC,EADrBL,EACqBK,IAAKC,EAD1BN,EAC0BM,kBAAmBC,EAD7CP,EAC6CO,kBAAmBC,EADhER,EACgEQ,gBAAiBC,EADjFT,EACiFS,aASxF,OACEC,EAAAC,EAAAC,cAACC,EAAA,EATkB,CACnBC,SAAU,CACRC,GAAI,CAACC,KAAM,IAEbC,WAAY,CACVF,GAAI,CAACC,KAAM,KAKXN,EAAAC,EAAAC,cAACC,EAAA,EAAKK,KAAN,CAAWC,MAAM,4BACfT,EAAAC,EAAAC,cAAA,UAAKV,EAAKkB,QAEZV,EAAAC,EAAAC,cAACC,EAAA,EAAKK,KAAN,CAAWC,MAAM,4BACfT,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAOC,MAAOnB,EAAOoB,YAAY,6CAAUC,SAAUlB,KAEvDI,EAAAC,EAAAC,cAACC,EAAA,EAAKK,KAAN,CAAWC,MAAM,4BACfT,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAOC,MAAOlB,EAAOmB,YAAY,6CAAUC,SAAUjB,KAEvDG,EAAAC,EAAAC,cAACC,EAAA,EAAKK,KAAN,CAAWC,MAAM,4BACfT,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAOC,MAAOjB,EAAKkB,YAAY,6CAAUC,SAAUhB,KAErDE,EAAAC,EAAAC,cAACC,EAAA,EAAKK,KAAN,CAAWO,MAAO,CAACC,UAAW,WAC5BhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAQF,MAAO,CAACG,YAAa,QAASC,KAAK,UAAUC,QAAS,WAAOrB,EAAaX,EAAKG,SAAvF,gBACAS,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAQE,KAAK,SAASC,QAAS,WAAOhC,EAAKG,MAAM8B,QAAQC,WAAzD,8DAMN,IAAIC,EAASC,UAAUnC,KAAKE,MAAMkC,SAASC,QACvCC,EAAKJ,EAAOK,MAAM,KAAK,GAAGA,MAAM,KAAK,GACrClB,EAAQa,EAAOK,MAAM,KAAK,GAC9BvC,KAAKE,MAAMsC,YAAYF,EAAIjB,kDAG3BrB,KAAKE,MAAMuC,oBAxCUC,iBA2EVC,sBA/BE,SAACC,GAAD,MAAY,CAC3BzC,KAAMyC,EAAMC,MAAM1C,KAClBC,MAAOwC,EAAMC,MAAMzC,MACnBC,MAAOuC,EAAMC,MAAMxC,MACnBC,IAAKsC,EAAMC,MAAMvC,MAGC,SAACwC,GAAD,MAAe,CACjCN,YADiC,SACrBF,EAAIjB,GACdyB,EAASC,IAAeP,YAAYF,EAAIjB,KAE1Cd,kBAJiC,SAIfyC,GAChB,IAAI5C,EAAQ4C,EAAEC,OAAO1B,MACrBuB,EAASC,IAAexC,kBAAkBH,KAE5CI,kBARiC,SAQfwC,GAChB,IAAI3C,EAAQ2C,EAAEC,OAAO1B,MACrBuB,EAASC,IAAevC,kBAAkBH,KAE5CI,gBAZiC,SAYjBuC,GACd,IAAI1C,EAAM0C,EAAEC,OAAO1B,MACnBuB,EAASC,IAAetC,gBAAgBH,KAE1CI,aAhBiC,SAgBpBR,GACX4C,EAASC,IAAeG,YAAYhD,KAEtCuC,WAnBiC,WAoB/BK,EAASC,IAAeN,iBAIbE,CAA+BQ,YAAWrD","file":"static/js/8.e35600cb.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreators } from '../../store';\r\n\r\nclass CreateRule extends PureComponent {\r\n\r\n  render() {\r\n    const { book, price, start, end, handlePriceChange, handleStartChange, handleEndChange, handleSubmit } = this.props;\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 3},\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8},\r\n      }\r\n    };\r\n    return (\r\n      <Form {...FormLabelCol}>\r\n        <Form.Item label='小说名称'>\r\n          <h3>{book.title}</h3>\r\n        </Form.Item>\r\n        <Form.Item label='付费金额'>\r\n          <Input value={price} placeholder='请输入付费金额' onChange={handlePriceChange} />\r\n        </Form.Item>\r\n        <Form.Item label='起始章节'>\r\n          <Input value={start} placeholder='请输入起始章节' onChange={handleStartChange} />\r\n        </Form.Item>\r\n        <Form.Item label='结束章节'>\r\n          <Input value={end} placeholder='请输入结束章节' onChange={handleEndChange} />\r\n        </Form.Item>\r\n        <Form.Item style={{textAlign: 'center'}}>\r\n          <Button style={{marginRight: '20px'}} type='primary' onClick={() => {handleSubmit(this.props)}}>提交</Button>\r\n          <Button type='danger' onClick={() => {this.props.history.goBack();}}>取消</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n  componentDidMount() {\r\n    let record = decodeURI(this.props.location.search);\r\n    let id = record.split('=')[1].split('&')[0];\r\n    let title = record.split('=')[2];\r\n    this.props.setBookInfo(id, title)\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.resetState()\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  book: state.novel.book,\r\n  price: state.novel.price,\r\n  start: state.novel.start,\r\n  end: state.novel.end\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n  setBookInfo(id, title) {\r\n    dispatch(actionCreators.setBookInfo(id, title))\r\n  },\r\n  handlePriceChange(e) {\r\n    let price = e.target.value;\r\n    dispatch(actionCreators.handlePriceChange(price))\r\n  },\r\n  handleStartChange(e) {\r\n    let start = e.target.value;\r\n    dispatch(actionCreators.handleStartChange(start))\r\n  },\r\n  handleEndChange(e) {\r\n    let end = e.target.value;\r\n    dispatch(actionCreators.handleEndChange(end))\r\n  },\r\n  handleSubmit(props) {\r\n    dispatch(actionCreators.submitRules(props))\r\n  },\r\n  resetState() {\r\n    dispatch(actionCreators.resetState())\r\n  }\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(withRouter(CreateRule));"],"sourceRoot":""}