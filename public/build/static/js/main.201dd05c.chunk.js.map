{"version":3,"sources":["common/header/style.js","common/header/index.js","common/slider/index.js","pages/home/index.js","pages/media/create/index.js","pages/media/show/index.js","pages/advertise/create/index.js","pages/advertise/show/index.js","pages/novel/store/reducer.js","pages/novel/store/actionCreators.js","pages/novel/store/constants.js","pages/novel/index.js","pages/novel/modify/index.js","pages/novel/config/index.js","pages/novel/config/create/index.js","store/reducer.js","store/index.js","App.js","index.js"],"names":["HeaderWrapper","styled","div","_templateObject","Logo","_templateObject2","Addition","_templateObject3","Span","span","_templateObject4","Header","react_default","a","createElement","react_router_dom","to","PureComponent","SubMenu","Menu","MenuItem","Item","Slider","style","width","height","position","top","left","borderRight","menu","mode","defaultSelectedKeys","key","title","TextArea","Input","MediaCreate","es_form","labelCol","sm","wrapperCol","colon","label","input","es_radio","Group","value","rows","es_button","type","MediaShow","table","bordered","columns","dataIndex","align","dataSource","name","api_key","Option","Select","AdvertiseCreate","es_select","defaultValue","disabled","placeholder","AdvertiseShow","render","item","record","index","size","ad_name","media","ad_type","defaultState","list","novelInfo","getNovelList","dispatch","axios","get","then","res","data","getNovelInfo","Novel","this","props","src","image_url","verticalAlign","alt","marginRight","JSON","stringify","id","rowKey","_id","connect","state","actionCreators","Modify","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","decodeURI","location","search","parse","split","handleSubmit","bind","assertThisInitialized","handleChange","handleInputChange","handleCancel","console","log","_this$state","page_title","action","onChange","showUploadList","className","upload","icon","marginLeft","onClick","e","target","setState","file","status","response","_this2","post","success","message","history","goBack","Config","rules","book","chapterCount","handleDeleteItem","that","popconfirm","onConfirm","okText","cancelText","react","float","margin","_this3","params","chapter_count","_this4","splice","toConsumableArray","error","CreateRule","price","start","end","handlePriceChange","handleStartChange","handleEndChange","textAlign","bid","Number","reducer","combineReducers","novel","arguments","length","undefined","newState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","es","header","slider","react_router","path","exact","padding","component","match","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.201dd05c.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  z-index: 1;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  padding: 0 30px;\r\n  box-sizing: border-box;\r\n  background: #fff;\r\n  box-shadow: 0 0 8px rgba(0, 0, 0, .2);\r\n`;\r\n\r\nexport const Logo = styled.div`\r\n  float: left;\r\n  font-size: 24px;\r\n  letter-spacing: 2px;\r\n`;\r\n\r\nexport const Addition = styled.div`\r\n  float: right;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const Span = styled.span`\r\n  margin-right: 30px;\r\n`;\r\n","import React, { PureComponent } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  HeaderWrapper,\r\n  Logo,\r\n  Addition,\r\n  Span\r\n} from './style';\r\n\r\nclass Header extends PureComponent {\r\n\r\n  render() {\r\n    return (\r\n      <HeaderWrapper>\r\n        <Link to='/novel'>\r\n          <Logo>小说管理后台</Logo>\r\n        </Link>\r\n        <Addition>\r\n          <Span>消息</Span>\r\n          <Span>退出</Span>\r\n        </Addition>\r\n      </HeaderWrapper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React, {PureComponent} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Menu} from 'antd';\r\n\r\nconst SubMenu = Menu.SubMenu;\r\nconst MenuItem = Menu.Item;\r\n\r\nclass Slider extends PureComponent {\r\n  render() {\r\n    const SliderWrapper = {\r\n      width: '240px',\r\n      height: '100vh',\r\n      position: 'fixed',\r\n      top: '65px',\r\n      left: 0,\r\n      borderRight: '1px solid #eee'\r\n    };\r\n    return (\r\n      <div style={SliderWrapper}>\r\n        <Menu\r\n          mode=\"inline\"\r\n          defaultSelectedKeys={['4']}\r\n        >\r\n          <MenuItem key=\"1\">\r\n            <Link to='/build'>首页</Link>\r\n          </MenuItem>\r\n          <SubMenu title={<span>媒体管理</span>}>\r\n            <MenuItem>\r\n              <Link to='/build/media/create'>创建媒体</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to='/build/media/show'>媒体列表</Link>\r\n            </MenuItem>\r\n          </SubMenu>\r\n          <SubMenu title={<span>广告位管理</span>}>\r\n            <MenuItem>\r\n              <Link to='/build/advertise/create'>创建广告位</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to='/build/advertise/show'>广告位列表</Link>\r\n            </MenuItem>\r\n          </SubMenu>\r\n          <MenuItem key=\"4\">\r\n            <Link to='/build/novel'>小说管理</Link>\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Slider;","import React, {PureComponent} from 'react';\r\nimport { Card, Table, Button } from 'antd';\r\n\r\nimport './index.css';\r\n\r\nclass Home extends PureComponent {\r\n\r\n  render() {\r\n    const CardHeadStyle = {\r\n      'color': '#00a0fe',\r\n      'fontSize': '24px',\r\n      'border': 0\r\n    };\r\n    const columns = [{\r\n      key: 'date',\r\n      dataIndex: 'date',\r\n      title: '日期',\r\n      align: 'center'\r\n    }, {\r\n      key: 'rechargeIncome',\r\n      dataIndex: 'rechargeIncome',\r\n      title: '小说充值收入',\r\n      align: 'center'\r\n    }, {\r\n      key: 'adIncome',\r\n      dataIndex: 'adIncome',\r\n      title: '广告收入',\r\n      align: 'center'\r\n    }, {\r\n      key: 'generalIncome',\r\n      dataIndex: 'generalIncome',\r\n      title: '总收入',\r\n      align: 'center'\r\n    }, {\r\n      key: 'proportion',\r\n      dataIndex: 'proportion',\r\n      title: '分成比例',\r\n      align: 'center'\r\n    }, {\r\n      key: 'proportionIncome',\r\n      dataIndex: 'proportionIncome',\r\n      title: '分成收⼊',\r\n      align: 'center'\r\n    }, {\r\n      key: 'action',\r\n      title: '操作',\r\n      align: 'center',\r\n      render(item, record, index) {\r\n        return <Button type='primary' size='small'>编辑</Button>\r\n      }\r\n    }];\r\n    const list = [{\r\n      date: '2019-04-18',\r\n      rechargeIncome: '321.09',\r\n      adIncome: '321.09',\r\n      generalIncome: '321.09',\r\n      proportion: '90%',\r\n      proportionIncome: '876.54',\r\n      key: '1'\r\n    }];\r\n    return (\r\n      <div className='home'>\r\n        <Card className='card_wrapper' title='账户收入' headStyle={CardHeadStyle} bordered={false}>\r\n          <Card className='card_item'>\r\n            <p className='account_title'>账户余额（元）</p>\r\n            <span className='account_num'>4567.89</span>\r\n          </Card>\r\n          <Card className='card_item'>\r\n            <p className='account_title'>累计收⼊（元）</p>\r\n            <span className='account_num'>4567.89</span>\r\n          </Card>\r\n        </Card>\r\n        <Table className='table_list' bordered columns={columns} dataSource={list} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;","import React, {PureComponent} from 'react';\r\nimport {Form, Input, Radio, Button} from 'antd';\r\n\r\nconst {TextArea} = Input;\r\n\r\nclass MediaCreate extends PureComponent {\r\n  render() {\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 2},\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8},\r\n      },\r\n      colon: false\r\n    };\r\n    return (\r\n      <Form {...FormLabelCol} >\r\n        <Form.Item label='媒体名称'>\r\n          <Input/>\r\n        </Form.Item>\r\n        <Form.Item label='媒体类型'>\r\n          <Radio.Group>\r\n            <Radio value=\"andriod\">Ardroid</Radio>\r\n            <Radio value=\"ios\">IOS</Radio>\r\n            <Radio value=\"wechat\">微信</Radio>\r\n            <Radio value=\"others\">其他</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label='应用简介'>\r\n          <TextArea rows={4}/>\r\n        </Form.Item>\r\n        <Form.Item label=' '>\r\n          <Button type='primary'>立即创建</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MediaCreate;","import React, { PureComponent } from 'react';\r\nimport { Table } from 'antd';\r\n\r\nclass MediaShow extends PureComponent {\r\n  render() {\r\n    const columns = [{\r\n      key: 'type',\r\n      title: '媒体类型',\r\n      dataIndex: 'type',\r\n      align: 'center'\r\n    }, {\r\n      key: 'name',\r\n      title: '媒体名称',\r\n      dataIndex: 'name',\r\n      align: 'center'\r\n    }, {\r\n      key: 'api_key',\r\n      title: 'API KEY',\r\n      dataIndex: 'api_key',\r\n      align: 'center'\r\n    }];\r\n\r\n    const list = [{\r\n      type: 'IOS',\r\n      name: '微信订阅号',\r\n      api_key: '72acadabc56eaee10d593ce6f0629508',\r\n      key: '1'\r\n    }];\r\n    return <Table bordered columns={columns} dataSource={list} />\r\n  }\r\n}\r\n\r\nexport default MediaShow;","import React, { PureComponent } from 'react';\r\nimport { Form, Select, Input, Radio, Button } from 'antd';\r\nconst Option = Select.Option;\r\n\r\nclass AdvertiseCreate extends PureComponent {\r\n  render() {\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 3},\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8},\r\n      },\r\n      colon: false\r\n    }\r\n    return (\r\n      <Form {...FormLabelCol}>\r\n        <Form.Item label='媒体选择'>\r\n          <Select defaultValue=\"lucy\" style={{ width: 120 }}>\r\n            <Option value=\"jack\">Jack</Option>\r\n            <Option value=\"lucy\">Lucy</Option>\r\n            <Option value=\"disabled\" disabled>Disabled</Option>\r\n            <Option value=\"Yiminghe\">yiminghe</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label='广告位形式'>\r\n          <Radio.Group>\r\n            <Radio value='icon'>图标</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label='广告位名称'>\r\n          <Input placeholder='限20个字'/>\r\n        </Form.Item>\r\n        <Form.Item label=' '>\r\n          <Button type='primary'>立即创建</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AdvertiseCreate;","import React, { PureComponent } from 'react';\r\nimport { Table, Button } from 'antd';\r\n\r\nclass AdvertiseShow extends PureComponent {\r\n  render() {\r\n    const columns = [{\r\n      key: 'ad_name',\r\n      title: '⼴告位名称',\r\n      dataIndex: 'ad_name',\r\n      align: 'center'\r\n    }, {\r\n      key: 'media',\r\n      title: '所属媒体',\r\n      dataIndex: 'media',\r\n      align: 'center'\r\n    }, {\r\n      key: 'ad_type',\r\n      title: '广告位形式',\r\n      dataIndex: 'ad_type',\r\n      align: 'center'\r\n    }, {\r\n      key: 'action',\r\n      title: '操作',\r\n      align: 'center',\r\n      render(item, record, index) {\r\n        return <Button type='primary' size='small'>复制链接</Button>\r\n      }\r\n    }];\r\n\r\n    const list = [{\r\n      ad_name: '小说广告',\r\n      media: '豆盟',\r\n      ad_type: '图标',\r\n      key: '1'\r\n    }];\r\n    return <Table bordered columns={columns} dataSource={list} />\r\n  }\r\n}\r\n\r\nexport default AdvertiseShow;","import * as constants from './constants';\r\n\r\nconst defaultState = {\r\n  list: [],\r\n  novelInfo: {}\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  if(action.type === constants.GET_NOVEL_LIST) {\r\n    const newState = JSON.parse(JSON.stringify(state));\r\n    newState.list = action.list;\r\n    return newState;\r\n  }\r\n  if(action.type === constants.GET_NOVEL_LIST) {\r\n    const newState = JSON.parse(JSON.stringify(state));\r\n    newState.novelInfo = action.novelInfo;\r\n    return newState;\r\n  }\r\n  return state;\r\n};","import * as constants from './constants';\r\nimport axios from \"axios\";\r\n\r\nexport const getNovelList = () => {\r\n  return (dispatch) => {\r\n    axios.get('http://h.tyuss.com/book/all').then(res => {\r\n      let list = res.data.data;\r\n      const action = {\r\n        type: constants.GET_NOVEL_LIST,\r\n        list\r\n      };\r\n      dispatch(action)\r\n    })\r\n  }\r\n};\r\n\r\nexport const getNovelInfo = (novelInfo) => {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: constants.GET_NOVEL_LIST,\r\n      novelInfo\r\n    };\r\n    dispatch(action)\r\n  }\r\n};","export const GET_NOVEL_LIST = 'novel/get_novel_list';\r\nexport const GET_NOVEL_INFO = 'novel/get_novel_info';","import React, {PureComponent} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Button, Table} from 'antd';\r\nimport {Link} from \"react-router-dom\";\r\nimport {actionCreators} from './store';\r\n\r\nclass Novel extends PureComponent {\r\n  render() {\r\n    const {list} = this.props;\r\n    const columns = [\r\n      {\r\n        key: 'title',\r\n        dataIndex: 'title',\r\n        title: '小说名称',\r\n        align: 'center'\r\n      }, {\r\n        key: 'page_title',\r\n        dataIndex: 'page_title',\r\n        title: '首章标题',\r\n        align: 'center'\r\n      }, {\r\n        key: 'image_url',\r\n        title: 'banner图',\r\n        align: 'center',\r\n        render(item, record, index) {\r\n          const imgStyle = {\r\n            width: '100px',\r\n            verticalAlign: 'middle'\r\n          };\r\n          return (\r\n            <img src={record.image_url} style={imgStyle} alt=\"\"/>\r\n          )\r\n        }\r\n      }, {\r\n        key: 'action',\r\n        title: '操作',\r\n        align: 'center',\r\n        render(item, record, index) {\r\n          return (\r\n            <div>\r\n              <Button style={{marginRight: '10px'}} size='small' type='primary'>\r\n                <Link to={'/build/novel/modify?record=' + JSON.stringify(record)}>修改</Link>\r\n              </Button>\r\n              <Button size='small'>\r\n                <Link to={'/build/novel/config?id=' + record.id + '&title=' + record.title}>配置</Link>\r\n              </Button>\r\n            </div>\r\n          )\r\n        }\r\n      }];\r\n    return <Table rowKey={record => record._id} columns={columns} dataSource={list} bordered/>\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getNovelList()\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  list: state.get('novel').list,\r\n  columns: state.get('novel').columns\r\n});\r\n\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    getNovelList() {\r\n      dispatch(actionCreators.getNovelList())\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(Novel);","import React, { PureComponent } from 'react';\r\nimport {Form, Input, Upload, Button, Icon, message} from 'antd';\r\nimport axios from 'axios';\r\n\r\nclass Modify extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    let record = decodeURI(props.location.search);\r\n    record = JSON.parse(record.split('=')[1]);\r\n    this.state = record;\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n  }\r\n  render() {\r\n    console.log(this.state)\r\n    const { page_title, title, image_url } = this.state;\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 3},\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8},\r\n      }\r\n    };\r\n    const props = {\r\n      action: 'http://h.tyuss.com/book/upload',\r\n      onChange: this.handleChange,\r\n      showUploadList: false,\r\n      name: 'imageFile'\r\n    };\r\n    const bannerStyle = {\r\n      width: '200px'\r\n    };\r\n    return (\r\n      <div className='modify'>\r\n        <Form {...FormLabelCol}>\r\n          <Form.Item label='小说名称'>\r\n            <h3>{title}</h3>\r\n          </Form.Item>\r\n          <Form.Item label='页面标题'>\r\n            <Input value={page_title} placeholder='请输入页面标题' onChange={this.handleInputChange}/>\r\n          </Form.Item>\r\n          <Form.Item label='banner图'>\r\n            <Upload {...props}>\r\n              {image_url === ''\r\n                ? (<Button><Icon type=\"upload\" />上传图片</Button>)\r\n                : (<img style={bannerStyle} src={image_url} alt=\"\"/>)}\r\n            </Upload>\r\n          </Form.Item>\r\n          <Form.Item style={{marginLeft: '100px'}}>\r\n            <Button style={{marginRight: '20px'}} type='primary' onClick={this.handleSubmit}>提交</Button>\r\n            <Button type='danger' onClick={this.handleCancel}>取消</Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n  handleInputChange(e) {\r\n    let page_title = e.target.value;\r\n    this.setState(() => ({page_title}))\r\n  }\r\n  handleChange(res) {\r\n    if(res.file.status === 'done') {\r\n      let image_url = 'http://h.tyuss.com/uploads/' + res.file.response.image_url\r\n      this.setState(() => ({image_url}))\r\n    }\r\n  }\r\n  handleSubmit() {\r\n    axios.post('http://h.tyuss.com/book/update', {\r\n      id: this.state._id,\r\n      page_title: this.state.page_title,\r\n      image_url: this.state.image_url\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success('修改成功');\r\n        this.props.history.goBack()\r\n      }\r\n    })\r\n  }\r\n  handleCancel() {\r\n    this.props.history.goBack();\r\n  }\r\n}\r\n\r\nexport default Modify;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {Table, Button, message, Popconfirm} from 'antd';\r\nimport axios from 'axios';\r\n\r\nclass Config extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    let record = decodeURI(props.location.search);\r\n    let id = record.split('=')[1].split('&')[0];\r\n    let title = record.split('=')[2]\r\n    this.state = {\r\n      rules: [],\r\n      book: {id, title},\r\n      chapterCount: null\r\n    };\r\n    this.handleDeleteItem = this.handleDeleteItem.bind(this);\r\n  };\r\n  render() {\r\n    let that =this;\r\n    const { rules } = this.state;\r\n    const columns = [\r\n      {\r\n        key: 'price',\r\n        dataIndex: 'price',\r\n        title: '金额',\r\n        align: 'center'\r\n      }, {\r\n        key: 'start_index',\r\n        dataIndex: 'start_index',\r\n        title: '起始章节',\r\n        align: 'center'\r\n      },{\r\n        key: 'end_index',\r\n        dataIndex: 'end_index',\r\n        title: '结束章节',\r\n        align: 'center'\r\n      },{\r\n        key: 'action',\r\n        title: 'Action',\r\n        align: 'center',\r\n        render(item, record, index) {\r\n          return (\r\n            <Popconfirm title=\"确定删除这条内容吗?\" onConfirm={() => that.handleDeleteItem(record, index)} okText=\"Yes\" cancelText=\"No\">\r\n              <Button size='small' type='danger'>Delete</Button>\r\n            </Popconfirm>\r\n          )\r\n        }\r\n      }\r\n    ];\r\n    return (\r\n      <Fragment>\r\n        <span style={{float: 'right', marginRight: '30px'}}>共 {this.state.chapterCount} 章</span>\r\n        <Button style={{margin: '0 30px 30px 0'}} type='primary'>\r\n          <Link to={'/build/novel/config/create?id=' + this.state.book.id + '&title=' + this.state.book.title}>创建规则</Link>\r\n        </Button>\r\n        <Button onClick={() => this.props.history.goBack()}>返回上一级</Button>\r\n        <Table bordered rowKey={record => record._id} columns={columns} dataSource={rules} />\r\n      </Fragment>\r\n    )\r\n  }\r\n  componentDidMount() {\r\n    axios.get('http://h.tyuss.com/rule', {params: {id: this.state.book.id}})\r\n      .then(res => {\r\n        if(res.data.success === '成功') {\r\n          let rules = res.data.data;\r\n          let chapterCount = res.data.chapter_count;\r\n          this.setState(() => ({rules, chapterCount}))\r\n        }\r\n      })\r\n  }\r\n  handleDeleteItem(record, index) {\r\n    axios.get('http://h.tyuss.com/rule/delete', {params: {id: record._id}})\r\n      .then(res => {\r\n        if(res.data.success === '成功') {\r\n          let rules = this.state.rules\r\n          rules.splice(index, 1)\r\n          this.setState(() => ({\r\n            rules: [...rules]\r\n          }))\r\n          message.success('修改成功');\r\n        } else {\r\n          message.error('删除失败');\r\n        }\r\n      })\r\n  }\r\n\r\n}\r\n\r\nexport default Config;","import React, { PureComponent } from 'react';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport axios from 'axios';\r\n\r\nclass CreateRule extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    let record = decodeURI(props.location.search);\r\n    let id = record.split('=')[1].split('&')[0];\r\n    let title = record.split('=')[2]\r\n    this.state = {\r\n      book: {id, title},\r\n      price: null,\r\n      start: null,\r\n      end: null\r\n    };\r\n    this.handlePriceChange = this.handlePriceChange.bind(this);\r\n    this.handleStartChange = this.handleStartChange.bind(this);\r\n    this.handleEndChange = this.handleEndChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n  }\r\n  render() {\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 3},\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8},\r\n      }\r\n    };\r\n    return (\r\n      <Form {...FormLabelCol}>\r\n        <Form.Item label='小说名称'>\r\n          <h3>{this.state.book.title}</h3>\r\n        </Form.Item>\r\n        <Form.Item label='付费金额'>\r\n          <Input value={this.state.price} placeholder='请输入付费金额' onChange={this.handlePriceChange} />\r\n        </Form.Item>\r\n        <Form.Item label='起始章节'>\r\n          <Input value={this.state.start} placeholder='请输入起始章节' onChange={this.handleStartChange} />\r\n        </Form.Item>\r\n        <Form.Item label='结束章节'>\r\n          <Input value={this.state.end} placeholder='请输入结束章节' onChange={this.handleEndChange} />\r\n        </Form.Item>\r\n        <Form.Item style={{textAlign: 'center'}}>\r\n          <Button style={{marginRight: '20px'}} type='primary' onClick={this.handleSubmit}>提交</Button>\r\n          <Button type='danger' onClick={this.handleCancel}>取消</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n  handlePriceChange(e) {\r\n    let price = e.target.value;\r\n    this.setState(() => ({\r\n      price\r\n    }))\r\n  }\r\n  handleStartChange(e) {\r\n    let start = e.target.value;\r\n    this.setState(() => ({\r\n      start\r\n    }))\r\n  }\r\n  handleEndChange(e) {\r\n    let end = e.target.value;\r\n    this.setState(() => ({\r\n      end\r\n    }))\r\n  }\r\n  handleSubmit() {\r\n    let data = this.state;\r\n    axios.post('http://h.tyuss.com/rule/create', {\r\n      bid: Number(data.book.id),\r\n      start: Number(data.start),\r\n      end: Number(data.end),\r\n      price: Number(data.price)\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success('创建成功');\r\n        this.props.history.goBack();\r\n      }\r\n    })\r\n  }\r\n  handleCancel() {\r\n    this.props.history.goBack();\r\n  }\r\n}\r\n\r\nexport default CreateRule;","import { combineReducers } from \"redux-immutable\";\r\nimport { reducer as NovelReducer } from '../pages/novel/store';\r\nconst reducer = combineReducers({\r\n  novel: NovelReducer\r\n});\r\n\r\nexport default reducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport reducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducer, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import React, { PureComponent } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport Header from './common/header';\nimport Slider from './common/slider';\nimport Home from './pages/home';\n// import Media from './pages/media';\nimport MediaCreate from './pages/media/create';\nimport MediaShow from './pages/media/show';\nimport AdvertiseCreate from './pages/advertise/create';\nimport AdvertiseShow from './pages/advertise/show';\nimport Novel from './pages/novel';\nimport Modify from './pages/novel/modify';\nimport Config from './pages/novel/config';\nimport CreateRule from \"./pages/novel/config/create\";\nimport store from './store';\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <Header />\n          <Slider />\n          <div style={{margin: '65px 0 0 241px'}}>\n            <Route path='/' exact render={() => <Redirect to='/build' />} />\n            {/*<Route path='/build' exact component={Home} />*/}\n            <Route path='/build' exact render={() => <Redirect to='/build/novel' />} />\n            <div style={{padding: '30px'}}>\n              <Route path='/build/media/create' component={MediaCreate}></Route>\n              <Route path='/build/media/show' component={MediaShow}></Route>\n              <Route path='/build/advertise/create' component={AdvertiseCreate}></Route>\n              <Route path='/build/advertise/show' component={AdvertiseShow}></Route>\n              <Route path='/build/novel' exact component={Novel} />\n              <Route path='/build/novel/modify' match component={Modify} />\n              <Route path='/build/novel/config' exact component={Config} />\n              <Route path='/build/novel/config/create' component={CreateRule}/>\n            </div>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"antd/dist/antd.css\";\nimport './reset.css';\n\nconst Container = () => (\n  <Fragment>\n    <App />\n  </Fragment>\n);\n\nReactDOM.render(<Container />, document.getElementById('root'));"],"sourceRoot":""}