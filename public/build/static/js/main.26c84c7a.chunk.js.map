{"version":3,"sources":["api/config.js","common/header/index.js","common/slider/index.js","pages/novel/loadable.js","pages/novel/modify/loadable.js","pages/novel/config/loadable.js","pages/novel/config/edit/loadable.js","pages/novel/router.js","pages/channel/loadable.js","pages/channel/edit/loadable.js","pages/channel/advertise/loadable.js","pages/channel/router.js","store/reducer.js","store/index.js","App.js","index.js","pages/novel/store/reducer.js","pages/novel/store/constants.js","pages/novel/store/actionCreators.js","pages/novel/store/index.js","pages/channel/store/reducer.js","pages/channel/store/constants.js","pages/channel/store/actionCreators.js","pages/channel/store/index.js"],"names":["__webpack_require__","d","__webpack_exports__","api","Header","react_default","a","createElement","className","react_router_dom","to","PureComponent","MenuItem","Menu","Item","Slider","style","width","height","position","top","left","borderRight","menu","mode","defaultSelectedKeys","key","withRouter","LoadableComponent","Loadable","loader","Promise","all","e","then","bind","loading","loadable","modify_loadable","loadable_LoadableComponent","config_loadable","config_loadable_LoadableComponent","edit_loadable","edit_loadable_LoadableComponent","NovelRouter","react_router","path","component","Novel","Modify","Config","EditRule","exact","from","channel_loadable","channel_loadable_LoadableComponent","channel_edit_loadable","channel_edit_loadable_LoadableComponent","advertise_loadable","advertise_loadable_LoadableComponent","ChannelRouter","Channel","EditChannel","Advertise","reducer","combineReducers","novel","NovelReducer","channel","ChannelReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","es","common_header","slider","margin","render","padding","ReactDOM","src_App","document","getElementById","defaultState","list","page_title","image_url","title","_id","rules","rule_id","book","id","price","start","end","chapterCount","state","arguments","length","undefined","action","newState","JSON","parse","stringify","type","novelInfo","Object","toConsumableArray","data","start_index","end_index","splice","index","getNovelList","dispatch","axios","get","res","getNovelInfo","handleInputChange","handleChange","handleSubmit","props","post","success","message","history","goBack","setBookInfo","getBookRules","params","chapter_count","initUpdateForm","handlePriceChange","handleStartChange","handleEndChange","createRules","bid","Number","updateRules","resetState","actionCreators_namespaceObject","official","name","image","appid","appsecret","ad_list","keys","platform","adkey","push","record","getChannelList","handleDeleteItem","changeChannelInput","changeGonghaoInput","uploadImage","handleCreate","initState","handleUpdate","getAdzones","handleKeyChange","handlePlatformChange","handleAdkeyChange","addItemToList","saveUpdateItem","updateItem","deleteAdItem","submitAdList","location","search","split","adzone_list","console","log"],"mappings":"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","file":"static/js/main.26c84c7a.chunk.js","sourcesContent":["export const api = 'http://www.tyuss.com';","import React, { PureComponent } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nclass Header extends PureComponent {\r\n\r\n  render() {\r\n    return (\r\n      <div className='header-wrapper'>\r\n        <Link to='/novel'>\r\n          <div className='logo'>小说管理后台</div>\r\n        </Link>\r\n        <div className='addition'>\r\n          <span>消息</span>\r\n          <span>退出</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React, {PureComponent} from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {Menu} from 'antd';\r\n\r\n// const SubMenu = Menu.SubMenu;\r\nconst MenuItem = Menu.Item;\r\n\r\nclass Slider extends PureComponent {\r\n  render() {\r\n    const SliderWrapper = {\r\n      width: '240px',\r\n      height: '100vh',\r\n      position: 'fixed',\r\n      top: '65px',\r\n      left: 0,\r\n      borderRight: '1px solid #eee'\r\n    };\r\n    return (\r\n      <div style={SliderWrapper}>\r\n        <Menu\r\n          mode=\"inline\"\r\n          defaultSelectedKeys={['novel']}\r\n        >\r\n          {/*<MenuItem key=\"home\">*/}\r\n            {/*<Link to='/build'>首页</Link>*/}\r\n          {/*</MenuItem>*/}\r\n          <MenuItem key=\"novel\">\r\n            <Link to='/build/novel'>小说管理</Link>\r\n          </MenuItem>\r\n          <MenuItem key=\"channel\">\r\n            <Link to='/build/channel'>渠道管理</Link>\r\n          </MenuItem>\r\n          {/*<SubMenu title={<span>媒体管理</span>}>*/}\r\n            {/*<MenuItem>*/}\r\n              {/*<Link to='/build/media/create'>创建媒体</Link>*/}\r\n            {/*</MenuItem>*/}\r\n            {/*<MenuItem>*/}\r\n              {/*<Link to='/build/media/show'>媒体列表</Link>*/}\r\n            {/*</MenuItem>*/}\r\n          {/*</SubMenu>*/}\r\n          {/*<SubMenu title={<span>广告位管理</span>}>*/}\r\n            {/*<MenuItem>*/}\r\n              {/*<Link to='/build/advertise/create'>创建广告位</Link>*/}\r\n            {/*</MenuItem>*/}\r\n            {/*<MenuItem>*/}\r\n              {/*<Link to='/build/advertise/show'>广告位列表</Link>*/}\r\n            {/*</MenuItem>*/}\r\n          {/*</SubMenu>*/}\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n  handleClick() {\r\n\r\n  }\r\n}\r\n\r\nexport default withRouter(Slider);","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React, { PureComponent } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Novel from './loadable';\r\nimport Modify from \"./modify/loadable\";\r\nimport Config from \"./config/loadable\";\r\nimport EditRule from \"./config/edit/loadable\";\r\n\r\nclass NovelRouter extends PureComponent {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path='/build/novel/index' component={Novel} />\r\n        <Route path='/build/novel/modify' component={Modify} />\r\n        <Route path='/build/novel/config/index' component={Config} />\r\n        <Route path='/build/novel/config/create' component={EditRule} />\r\n        <Route path='/build/novel/config/update' component={EditRule} />\r\n        <Redirect exact from=\"/build/novel\" to=\"/build/novel/index\" />\r\n        <Redirect exact from=\"/build/novel/config\" to=\"/build/novel/config/index\" />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NovelRouter;","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading() {\r\n    return <div>正在加载</div>\r\n  }\r\n});\r\n\r\nexport default () => <LoadableComponent/>;\r\n","import React, { PureComponent } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport Channel from \"./loadable\";\r\nimport EditChannel from './edit/loadable';\r\nimport Advertise from './advertise/loadable';\r\n\r\nclass ChannelRouter extends PureComponent {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path='/build/channel/index' component={Channel} />\r\n        <Route path='/build/channel/create' component={EditChannel} />\r\n        <Route path='/build/channel/update' component={EditChannel} />\r\n        <Route path='/build/channel/advertise' component={Advertise} />\r\n        <Redirect exact from=\"/build/channel\" to=\"/build/channel/index\" />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChannelRouter;","import { combineReducers } from \"redux\";\r\nimport { reducer as NovelReducer } from '../pages/novel/store';\r\nimport { reducer as ChannelReducer } from '../pages/channel/store';\r\n\r\nconst reducer = combineReducers({\r\n  novel: NovelReducer,\r\n  channel: ChannelReducer\r\n});\r\n\r\nexport default reducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport reducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducer, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import React, { PureComponent } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport Header from './common/header';\nimport Slider from './common/slider';\n// import Home from './pages/home';\n// import Media from './pages/media';\n// import MediaCreate from './pages/media/create';\n// import MediaShow from './pages/media/show';\n// import AdvertiseCreate from './pages/advertise/create';\n// import AdvertiseShow from './pages/advertise/show';\n\n\nimport NovelRouter from './pages/novel/router';\nimport ChannelRouter from './pages/channel/router';\n\nimport store from './store';\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <Header />\n          <Slider />\n          <div style={{margin: '65px 0 0 241px'}}>\n            <Route path='/' exact render={() => <Redirect to='/build' />} />\n            {/*<Route path='/build' exact component={Home} />*/}\n            <Route path='/build' exact render={() => <Redirect to='/build/novel' />} />\n            <div style={{padding: '30px'}}>\n              {/*<Route path='/build/media/create' component={MediaCreate}></Route>*/}\n              {/*<Route path='/build/media/show' component={MediaShow}></Route>*/}\n              {/*<Route path='/build/advertise/create' component={AdvertiseCreate}></Route>*/}\n              {/*<Route path='/build/advertise/show' component={AdvertiseShow}></Route>*/}\n              <Route path='/build/novel' component={NovelRouter} />\n              <Route path='/build/channel' component={ChannelRouter} />\n            </div>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"antd/dist/antd.css\";\nimport './reset.css';\n\nReactDOM.render(<App />, document.getElementById('root'));","import * as constants from './constants';\r\n\r\nconst defaultState = {\r\n  list: [],\r\n  page_title: '',\r\n  image_url: '',\r\n  title: '',\r\n  _id: '',\r\n  rules: [],\r\n  rule_id: '',\r\n  book: {\r\n    id: '',\r\n    title: ''\r\n  },\r\n  price: null,\r\n  start: null,\r\n  end: null,\r\n  chapterCount: null\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  let newState = JSON.parse(JSON.stringify(state));\r\n  switch (action.type) {\r\n    case constants.GET_NOVEL_LIST:\r\n      newState.list = action.list;\r\n      return newState;\r\n    case constants.GET_NOVEL_INFO:\r\n      newState.page_title = action.novelInfo.page_title;\r\n      newState.image_url = action.novelInfo.image_url;\r\n      newState.title = action.novelInfo.title;\r\n      newState._id = action.novelInfo._id;\r\n      return newState;\r\n    case constants.CHANGE_INPUT:\r\n      newState.page_title = action.page_title;\r\n      return newState;\r\n    case constants.UPLOAD_IMAGE:\r\n      newState.image_url = action.image_url;\r\n      return newState;\r\n    case constants.SET_BOOK_INFO:\r\n      newState.book = {\r\n        id: action.id,\r\n        title: action.title\r\n      };\r\n      return newState;\r\n    case constants.GET_BOOK_RULES:\r\n      newState.rules = [...action.rules];\r\n      newState.chapterCount = action.chapterCount;\r\n      return newState;\r\n    case constants.INIT_UPDATE_FORM:\r\n      newState.price = action.data.price;\r\n      newState.start = action.data.start_index;\r\n      newState.end = action.data.end_index;\r\n      newState.rule_id = action.data._id;\r\n      return newState;\r\n    case constants.CHANGE_PRICE_INPUT:\r\n      newState.price = action.price;\r\n      return newState;\r\n    case constants.CHANGE_START_INPUT:\r\n      newState.start = action.start;\r\n      return newState;\r\n    case constants.CHANGE_END_INPUT:\r\n      newState.end = action.end;\r\n      return newState;\r\n    case constants.DELETE_ITEM:\r\n      newState.rules.splice(action.index, 1);\r\n      return newState;\r\n    case constants.RESET_STATE:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};","export const GET_NOVEL_LIST = 'novel/get_novel_list';\r\nexport const GET_NOVEL_INFO = 'novel/get_novel_info';\r\nexport const CHANGE_INPUT = 'novel/change_input';\r\nexport const UPLOAD_IMAGE = 'novel/upload_image';\r\nexport const SUBMIT_FORM = 'novel/submit_form';\r\nexport const SET_BOOK_INFO = 'novel/set_book_info';\r\nexport const INIT_UPDATE_FORM = 'init_update_form';\r\nexport const CHANGE_PRICE_INPUT = 'novel/change_price_input';\r\nexport const CHANGE_START_INPUT = 'novel/change_start_input';\r\nexport const CHANGE_END_INPUT = 'novel/change_end_input';\r\nexport const RESET_STATE = 'novel/reset_state';\r\nexport const GET_BOOK_RULES = 'novel/get_book_rules';\r\nexport const DELETE_ITEM = 'novel/delete_item';\r\n","import * as constants from './constants';\r\nimport axios from \"axios\";\r\nimport {message} from \"antd\";\r\nimport { api } from '../../../api/config';\r\n\r\n// 获取小说列表\r\nexport const getNovelList = () => {\r\n  return (dispatch) => {\r\n    axios.get(api + '/book/all').then(res => {\r\n      let list = res.data.data;\r\n      const action = {\r\n        type: constants.GET_NOVEL_LIST,\r\n        list\r\n      };\r\n      dispatch(action)\r\n    })\r\n  }\r\n};\r\n\r\nexport const getNovelInfo = (novelInfo) => {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: constants.GET_NOVEL_INFO,\r\n      novelInfo\r\n    };\r\n    dispatch(action)\r\n  }\r\n};\r\n\r\nexport const handleInputChange = (page_title) => ({\r\n  type: constants.CHANGE_INPUT,\r\n  page_title\r\n});\r\n\r\nexport const handleChange = (image_url) => ({\r\n  type: constants.UPLOAD_IMAGE,\r\n  image_url\r\n});\r\n\r\nexport const handleSubmit = (props) => {\r\n  return (dispatch) => {\r\n    axios.post(api + '/book/update', {\r\n      id: props._id,\r\n      page_title: props.page_title,\r\n      image_url: props.image_url\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success('修改成功');\r\n        const action = {\r\n          type: constants.SUBMIT_FORM\r\n        };\r\n        dispatch(action);\r\n        props.history.goBack()\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport const setBookInfo = (id, title) => ({\r\n  type: constants.SET_BOOK_INFO,\r\n  id, title\r\n});\r\n\r\nexport const getBookRules = (id) => {\r\n  return dispatch => {\r\n    axios.get(api + '/rule', {params: {id: id}})\r\n      .then(res => {\r\n        if(res.data.success === '成功') {\r\n          let rules = res.data.data;\r\n          let chapterCount = res.data.chapter_count;\r\n          const action = {\r\n            type: constants.GET_BOOK_RULES,\r\n            rules, chapterCount\r\n          };\r\n          dispatch(action)\r\n        }\r\n      })\r\n  }\r\n};\r\n\r\nexport const initUpdateForm = (data) => ({\r\n  type: constants.INIT_UPDATE_FORM,\r\n  data\r\n});\r\n\r\nexport const handlePriceChange = (price) => ({\r\n  type: constants.CHANGE_PRICE_INPUT,\r\n  price\r\n});\r\n\r\nexport const handleStartChange = (start) => ({\r\n  type: constants.CHANGE_START_INPUT,\r\n  start\r\n});\r\n\r\nexport const handleEndChange = (end) => ({\r\n  type: constants.CHANGE_END_INPUT,\r\n  end\r\n});\r\n\r\nexport const createRules = (props) => {\r\n  return dispatch => {\r\n    axios.post(api + '/rule/create', {\r\n      bid: Number(props.book.id),\r\n      start: Number(props.start),\r\n      end: Number(props.end),\r\n      price: Number(props.price)\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success('创建成功');\r\n        props.history.goBack();\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport const updateRules = (props) => {\r\n  return dispatch => {\r\n    axios.post(api + '/rule/update', {\r\n      id: props.rule_id,\r\n      bid: Number(props.book.id),\r\n      start: Number(props.start),\r\n      end: Number(props.end),\r\n      price: Number(props.price)\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success('创建成功');\r\n        props.history.goBack();\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport const resetState = () => ({\r\n  type: constants.RESET_STATE\r\n});\r\n\r\n\r\n\r\n","import reducer from './reducer';\r\nimport * as actionCreators from './actionCreators';\r\nimport * as constants from './constants';\r\n\r\nexport { reducer, actionCreators, constants };","import * as constants from './constants';\r\n\r\nconst defaultState = {\r\n  list: [],\r\n  title: '',\r\n  official: {\r\n    name: '',\r\n    image: '',\r\n    appid: '',\r\n    appsecret: ''\r\n  },\r\n  id: '',\r\n  ad_list: [],\r\n  keys: '',\r\n  platform: '',\r\n  adkey: '',\r\n  index: null\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  let newState = JSON.parse(JSON.stringify(state));\r\n  switch (action.type) {\r\n    case constants.GET_CHANNEL_LIST:\r\n      newState.list = action.list;\r\n      return newState;\r\n    case constants.DELETE_ITEM:\r\n      newState.list = [...action.list];\r\n      return newState;\r\n    case constants.CHANGE_CHANNEL_INPUT:\r\n      newState.title = action.title;\r\n      return newState;\r\n    case constants.CHANGE_GONGHAO_INPUT:\r\n      newState.official.name = action.name;\r\n      return newState;\r\n    case constants.UPLOAD_IMAGE:\r\n      newState.official.image = action.image;\r\n      return newState;\r\n    case constants.INIT_STATE:\r\n      newState.official = action.data.official;\r\n      newState.title = action.data.title;\r\n      newState.id = action.data._id;\r\n      return newState;\r\n    case constants.GET_ADZONES_INFO:\r\n      newState.ad_list = [...action.data.list];\r\n      if(newState.ad_list.length !== 0) {\r\n        let data = newState.ad_list[0];\r\n        newState.keys = data.key;\r\n        newState.platform = data.platform;\r\n        newState.adkey = data.adkey;\r\n        newState.index = 0;\r\n      }\r\n      return newState;\r\n    case constants.CHANGE_KEY:\r\n      newState.keys = action.keys;\r\n      return newState;\r\n    case constants.CHANGE_PLATFORM:\r\n      newState.platform = action.platform;\r\n      return newState;\r\n    case constants.CHANGE_ADKEY:\r\n      newState.adkey = action.adkey;\r\n      return newState;\r\n    case constants.ADD_ITEM_TO_LIST:\r\n      newState.ad_list.push({\r\n        key: action.props.keys,\r\n        platform: action.props.platform,\r\n        adkey: action.props.adkey\r\n      });\r\n      newState.keys = newState.platform = newState.adkey = '';\r\n      return newState;\r\n    case constants.SAVE_UPDATE_ITEM:\r\n      newState.ad_list.splice(action.props.index, 1, {\r\n        key: action.props.keys,\r\n        platform: action.props.platform,\r\n        adkey: action.props.adkey\r\n      });\r\n      newState.keys = newState.platform = newState.adkey = '';\r\n      newState.index = null;\r\n      return newState;\r\n    case constants.UPDATE_ITEM:\r\n      newState.keys = action.record.key;\r\n      newState.platform = action.record.platform;\r\n      newState.adkey = action.record.adkey;\r\n      newState.index = action.index;\r\n      return newState;\r\n    case constants.DELETE_AD_ITEM:\r\n      newState.ad_list.splice(action.index, 1);\r\n      newState.keys = newState.platform = newState.adkey = '';\r\n      newState.index = null;\r\n      return newState;\r\n    case constants.RESET_STATE:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const GET_CHANNEL_LIST = 'channel/get_channel_list';\r\nexport const DELETE_ITEM = 'channel/delete_item';\r\nexport const CHANGE_CHANNEL_INPUT = 'channel/change_channel_input';\r\nexport const CHANGE_GONGHAO_INPUT = 'channel/change_gonghao_input';\r\nexport const UPLOAD_IMAGE = 'channel/upload_image';\r\nexport const CREATE_FORM = 'channel/create_form';\r\nexport const UPDATE_FORM = 'channel/update_form';\r\nexport const INIT_STATE = 'channel/init_state';\r\nexport const GET_ADZONES_INFO = 'channel/get_adzones_info';\r\nexport const CHANGE_KEY = 'channel/change_key_input';\r\nexport const CHANGE_PLATFORM = 'channel/change_platform_input';\r\nexport const CHANGE_ADKEY = 'channel/change_adkey_input';\r\nexport const ADD_ITEM_TO_LIST = 'channel/add_item_to_list';\r\nexport const SAVE_UPDATE_ITEM = 'channel/save_update_item';\r\nexport const UPDATE_ITEM = 'channel/update_item';\r\nexport const DELETE_AD_ITEM = 'channel/delete_ad_item';\r\nexport const SUBMIT_AD_LIST = 'channel/submit_ad_list';\r\nexport const RESET_STATE = 'channel/reset_state';","import * as constants from './constants';\r\nimport { api } from '../../../api/config';\r\nimport { message } from 'antd';\r\nimport axios from 'axios';\r\n\r\nexport const getChannelList = () => {\r\n  return (dispatch) => {\r\n    axios.get(api + '/distribution/all')\r\n      .then(res => {\r\n        if(res.data.success === '成功') {\r\n          let list = res.data.data;\r\n          const action = {\r\n            type: constants.GET_CHANNEL_LIST,\r\n            list\r\n          };\r\n          dispatch(action);\r\n        }\r\n      })\r\n  }\r\n};\r\n\r\nexport const handleDeleteItem = (list, record, index) => {\r\n  return (dispatch) => {\r\n    axios.get(api + '/distribution/delete', {params: {id: record._id}})\r\n      .then(res => {\r\n        if(res.data.success === '成功') {\r\n          list.splice(index, 1);\r\n          message.success('删除成功');\r\n          const action = {\r\n            type: constants.DELETE_ITEM,\r\n            list\r\n          };\r\n          dispatch(action);\r\n        }\r\n      })\r\n  }\r\n};\r\n\r\nexport const changeChannelInput = (title) => ({\r\n  type: constants.CHANGE_CHANNEL_INPUT,\r\n  title\r\n});\r\n\r\nexport const changeGonghaoInput = (name) => ({\r\n  type: constants.CHANGE_GONGHAO_INPUT,\r\n  name\r\n});\r\n\r\nexport const uploadImage = (image) => ({\r\n  type: constants.UPLOAD_IMAGE,\r\n  image\r\n});\r\n\r\nexport const handleCreate = (props) => {\r\n  return (dispatch) => {\r\n    axios.post(api + '/distribution/create', {\r\n      title: props.title,\r\n      official: props.official\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success(\"创建成功\");\r\n        const action = {\r\n          type: constants.CREATE_FORM\r\n        };\r\n        dispatch(action);\r\n        props.history.goBack();\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport const initState = (data) => ({\r\n  type: constants.INIT_STATE,\r\n  data\r\n});\r\n\r\nexport const handleUpdate = (props) => {\r\n  return (dispatch) => {\r\n    axios.post(api + '/distribution/update', {\r\n      id: props.id,\r\n      title: props.title,\r\n      official: props.official\r\n    }).then(res => {\r\n      if(res.data.success === '成功') {\r\n        message.success(\"修改成功\");\r\n        const action = {\r\n          type: constants.UPDATE_FORM\r\n        };\r\n        dispatch(action);\r\n        props.history.goBack();\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport const getAdzones = (id) => {\r\n  return (dispatch) => {\r\n    axios.get(api + '/distribution/adzones', {\r\n      params: {\r\n        id: id\r\n      }\r\n    }).then(res => {\r\n        if(res.data.success === '成功') {\r\n          let data = res.data.data;\r\n          const action = {\r\n            type: constants.GET_ADZONES_INFO,\r\n            data\r\n          };\r\n          dispatch(action);\r\n        }\r\n      })\r\n  }\r\n};\r\n\r\nexport const handleKeyChange = (keys) =>({\r\n  type: constants.CHANGE_KEY,\r\n  keys\r\n});\r\n\r\nexport const handlePlatformChange = (platform) =>({\r\n  type: constants.CHANGE_PLATFORM,\r\n  platform\r\n});\r\n\r\nexport const handleAdkeyChange = (adkey) =>({\r\n  type: constants.CHANGE_ADKEY,\r\n  adkey\r\n});\r\n\r\nexport const addItemToList = (props) =>({\r\n  type: constants.ADD_ITEM_TO_LIST,\r\n  props\r\n});\r\n\r\nexport const saveUpdateItem = (props) =>({\r\n  type: constants.SAVE_UPDATE_ITEM,\r\n  props\r\n});\r\n\r\nexport const updateItem = (record, index) =>({\r\n  type: constants.UPDATE_ITEM,\r\n  record, index\r\n});\r\n\r\nexport const deleteAdItem = (index) =>({\r\n  type: constants.DELETE_AD_ITEM,\r\n  index\r\n});\r\n\r\nexport const submitAdList = (props) => {\r\n  let id = props.location.search.split('=')[1].split('&')[0]\r\n  return (dispatch) => {\r\n    axios.post(api + '/distribution/update/adzones', {\r\n      id: id,\r\n      adzone_list: props.list\r\n    }).then(res => {\r\n        if(res.data.success === '成功') {\r\n          console.log(res.data)\r\n          const action = {\r\n            type: constants.SUBMIT_AD_LIST\r\n          };\r\n          dispatch(action);\r\n          props.history.goBack();\r\n        }\r\n      })\r\n  }\r\n};\r\n\r\nexport const resetState = (index) =>({\r\n  type: constants.RESET_STATE\r\n});\r\n","import reducer from './reducer';\r\nimport * as actionCreators from './actionCreators';\r\nimport * as constants from './constants';\r\n\r\nexport { reducer, actionCreators, constants };"],"sourceRoot":""}