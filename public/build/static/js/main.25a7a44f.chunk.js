(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{132:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"getNovelList",function(){return s}),t.d(a,"getNovelInfo",function(){return f}),t.d(a,"handleInputChange",function(){return p}),t.d(a,"handleChange",function(){return h}),t.d(a,"handleSubmit",function(){return m}),t.d(a,"setBookInfo",function(){return _}),t.d(a,"getBookRules",function(){return b}),t.d(a,"handlePriceChange",function(){return g}),t.d(a,"handleStartChange",function(){return v}),t.d(a,"handleEndChange",function(){return y}),t.d(a,"submitRules",function(){return k}),t.d(a,"handleDeleteItem",function(){return E}),t.d(a,"resetState",function(){return O});var r=t(73),i={list:[],page_title:"",image_url:"",title:"",_id:"",rules:[],book:{id:"",title:""},price:null,start:null,end:null,chapterCount:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0,t=JSON.parse(JSON.stringify(e));switch(n.type){case"novel/get_novel_list":return t.list=n.list,t;case"novel/get_novel_info":return t.page_title=n.novelInfo.page_title,t.image_url=n.novelInfo.image_url,t.title=n.novelInfo.title,t._id=n.novelInfo._id,t;case"novel/change_input":return t.page_title=n.page_title,t;case"novel/upload_image":return t.image_url=n.image_url,t;case"novel/set_book_info":return t.book={id:n.id,title:n.title},t;case"novel/get_book_rules":return t.rules=Object(r.a)(n.rules),t.chapterCount=n.chapterCount,t;case"novel/change_price_input":return t.price=n.price,t;case"novel/change_start_input":return t.start=n.start,t;case"novel/change_end_input":return t.end=n.end,t;case"novel/delete_item":return t.rules.splice(n.index,1),t;case"novel/reset_state":return i;default:return e}},l=t(25),c=t.n(l),o=t(376),d=t(24),s=function(){return function(e){c.a.get(d.a+"/book/all").then(function(n){var t=n.data.data;e({type:"novel/get_novel_list",list:t})})}},f=function(e){return function(n){n({type:"novel/get_novel_info",novelInfo:e})}},p=function(e){return{type:"novel/change_input",page_title:e}},h=function(e){return{type:"novel/upload_image",image_url:e}},m=function(e){return function(n){c.a.post(d.a+"/book/update",{id:e._id,page_title:e.page_title,image_url:e.image_url}).then(function(t){"\u6210\u529f"===t.data.success&&(o.a.success("\u4fee\u6539\u6210\u529f"),n({type:"novel/submit_form"}),e.history.goBack())})}},_=function(e,n){return{type:"novel/set_book_info",id:e,title:n}},b=function(e){return function(n){c.a.get(d.a+"/rule",{params:{id:e}}).then(function(e){if("\u6210\u529f"===e.data.success){var t=e.data.data,a=e.data.chapter_count;n({type:"novel/get_book_rules",rules:t,chapterCount:a})}})}},g=function(e){return{type:"novel/change_price_input",price:e}},v=function(e){return{type:"novel/change_start_input",start:e}},y=function(e){return{type:"novel/change_end_input",end:e}},k=function(e){return function(n){c.a.post(d.a+"/rule/create",{bid:Number(e.book.id),start:Number(e.start),end:Number(e.end),price:Number(e.price)}).then(function(n){"\u6210\u529f"===n.data.success&&(o.a.success("\u521b\u5efa\u6210\u529f"),e.history.goBack())})}},E=function(e,n){return function(t){c.a.get(d.a+"/rule/delete",{params:{id:e._id}}).then(function(e){"\u6210\u529f"===e.data.success?(t({type:"novel/delete_item",index:n}),o.a.success("\u5220\u9664\u6210\u529f")):o.a.error("\u5220\u9664\u5931\u8d25")})}},O=function(){return{type:"novel/reset_state"}};t.d(n,"b",function(){return u}),t.d(n,"a",function(){return a})},135:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"getChannelList",function(){return s}),t.d(a,"handleDeleteItem",function(){return f}),t.d(a,"changeChannelInput",function(){return p}),t.d(a,"changeGonghaoInput",function(){return h}),t.d(a,"uploadImage",function(){return m}),t.d(a,"handleCreate",function(){return _}),t.d(a,"initState",function(){return b}),t.d(a,"handleUpdate",function(){return g}),t.d(a,"getAdzones",function(){return v}),t.d(a,"handleKeyChange",function(){return y}),t.d(a,"handlePlatformChange",function(){return k}),t.d(a,"handleAdkeyChange",function(){return E}),t.d(a,"addItemToList",function(){return O}),t.d(a,"saveUpdateItem",function(){return x}),t.d(a,"updateItem",function(){return j}),t.d(a,"deleteAdItem",function(){return C}),t.d(a,"submitAdList",function(){return I}),t.d(a,"resetState",function(){return w});var r=t(73),i={list:[],title:"",official:{name:"",image:"",appid:"",appsecret:""},id:"",ad_list:[],keys:"",platform:"",adkey:"",index:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0,t=JSON.parse(JSON.stringify(e));switch(n.type){case"channel/get_channel_list":return t.list=n.list,t;case"channel/delete_item":return t.list=Object(r.a)(n.list),t;case"channel/change_channel_input":return t.title=n.title,t;case"channel/change_gonghao_input":return t.official.name=n.name,t;case"channel/upload_image":return t.official.image=n.image,t;case"channel/init_state":return t.official=n.data.official,t.title=n.data.title,t.id=n.data._id,t;case"channel/get_adzones_info":if(t.ad_list=Object(r.a)(n.data.list),0!==t.ad_list.length){var a=t.ad_list[0];t.keys=a.key,t.platform=a.platform,t.adkey=a.adkey,t.index=0}return t;case"channel/change_key_input":return t.keys=n.keys,t;case"channel/change_platform_input":return t.platform=n.platform,t;case"channel/change_adkey_input":return t.adkey=n.adkey,t;case"channel/add_item_to_list":return t.ad_list.push({key:n.props.keys,platform:n.props.platform,adkey:n.props.adkey}),t.keys=t.platform=t.adkey="",t;case"channel/save_update_item":return t.ad_list.splice(n.props.index,1,{key:n.props.keys,platform:n.props.platform,adkey:n.props.adkey}),t.keys=t.platform=t.adkey="",t.index=null,t;case"channel/update_item":return t.keys=n.record.key,t.platform=n.record.platform,t.adkey=n.record.adkey,t.index=n.index,t;case"channel/delete_ad_item":return t.ad_list.splice(n.index,1),t.keys=t.platform=t.adkey="",t.index=null,t;case"channel/reset_state":return i;default:return e}},l=t(24),c=t(376),o=t(25),d=t.n(o),s=function(){return function(e){d.a.get(l.a+"/distribution/all").then(function(n){if("\u6210\u529f"===n.data.success){var t=n.data.data;e({type:"channel/get_channel_list",list:t})}})}},f=function(e,n,t){return function(a){d.a.get(l.a+"/distribution/delete",{params:{id:n._id}}).then(function(n){"\u6210\u529f"===n.data.success&&(e.splice(t,1),c.a.success("\u5220\u9664\u6210\u529f"),a({type:"channel/delete_item",list:e}))})}},p=function(e){return{type:"channel/change_channel_input",title:e}},h=function(e){return{type:"channel/change_gonghao_input",name:e}},m=function(e){return{type:"channel/upload_image",image:e}},_=function(e){return function(n){d.a.post(l.a+"/distribution/create",{title:e.title,official:e.official}).then(function(t){"\u6210\u529f"===t.data.success&&(c.a.success("\u521b\u5efa\u6210\u529f"),n({type:"channel/create_form"}),e.history.goBack())})}},b=function(e){return{type:"channel/init_state",data:e}},g=function(e){return function(n){d.a.post(l.a+"/distribution/update",{id:e.id,title:e.title,official:e.official}).then(function(t){"\u6210\u529f"===t.data.success&&(c.a.success("\u4fee\u6539\u6210\u529f"),n({type:"channel/update_form"}),e.history.goBack())})}},v=function(e){return function(n){d.a.get(l.a+"/distribution/adzones",{params:{id:e}}).then(function(e){if("\u6210\u529f"===e.data.success){var t=e.data.data;n({type:"channel/get_adzones_info",data:t})}})}},y=function(e){return{type:"channel/change_key_input",keys:e}},k=function(e){return{type:"channel/change_platform_input",platform:e}},E=function(e){return{type:"channel/change_adkey_input",adkey:e}},O=function(e){return{type:"channel/add_item_to_list",props:e}},x=function(e){return{type:"channel/save_update_item",props:e}},j=function(e,n){return{type:"channel/update_item",record:e,index:n}},C=function(e){return{type:"channel/delete_ad_item",index:e}},I=function(e){var n=e.location.search.split("=")[1].split("&")[0];return function(t){d.a.post(l.a+"/distribution/update/adzones",{id:n,adzone_list:e.list}).then(function(n){"\u6210\u529f"===n.data.success&&(console.log(n.data),t({type:"channel/submit_ad_list"}),e.history.goBack())})}},w=function(e){return{type:"channel/reset_state"}};t.d(n,"b",function(){return u}),t.d(n,"a",function(){return a})},201:function(e,n,t){e.exports=t(371)},24:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a="http://www.tyuss.com"},264:function(e,n,t){},370:function(e,n,t){},371:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(7),u=t.n(i),l=t(26),c=t(27),o=t(29),d=t(28),s=t(30),f=t(131),p=t(41),h=t(55),m=t(78),_=t(79);function b(){var e=Object(m.a)(["\n  margin-right: 30px;\n"]);return b=function(){return e},e}function g(){var e=Object(m.a)(["\n  float: right;\n  font-size: 14px;\n"]);return g=function(){return e},e}function v(){var e=Object(m.a)(["\n  float: left;\n  font-size: 24px;\n  letter-spacing: 2px;\n"]);return v=function(){return e},e}function y(){var e=Object(m.a)(["\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 60px;\n  line-height: 60px;\n  padding: 0 30px;\n  box-sizing: border-box;\n  background: #fff;\n  box-shadow: 0 0 8px rgba(0, 0, 0, .2);\n"]);return y=function(){return e},e}var k=_.a.div(y()),E=_.a.div(v()),O=_.a.div(g()),x=_.a.span(b()),j=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement(p.b,{to:"/novel"},r.a.createElement(E,null,"\u5c0f\u8bf4\u7ba1\u7406\u540e\u53f0")),r.a.createElement(O,null,r.a.createElement(x,null,"\u6d88\u606f"),r.a.createElement(x,null,"\u9000\u51fa")))}}]),n}(a.PureComponent),C=t(130),I=(C.b.SubMenu,C.b.Item),w=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"240px",height:"100vh",position:"fixed",top:"65px",left:0,borderRight:"1px solid #eee"}},r.a.createElement(C.b,{mode:"inline",defaultSelectedKeys:["novel"]},r.a.createElement(I,{key:"novel"},r.a.createElement(p.b,{to:"/build/novel"},"\u5c0f\u8bf4\u7ba1\u7406")),r.a.createElement(I,{key:"channel"},r.a.createElement(p.b,{to:"/build/channel"},"\u6e20\u9053\u7ba1\u7406"))))}},{key:"handleClick",value:function(){}}]),n}(a.PureComponent),S=Object(h.f)(w),P=t(92),N=t(375),z=t(374),B=(t(264),a.PureComponent,t(22)),J=t.n(B),L=J()({loader:function(){return t.e(10).then(t.bind(null,438))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),A=function(){return r.a.createElement(L,null)},D=J()({loader:function(){return Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,439))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),R=function(){return r.a.createElement(D,null)},T=J()({loader:function(){return t.e(6).then(t.bind(null,440))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),U=function(){return r.a.createElement(T,null)},K=J()({loader:function(){return Promise.all([t.e(0),t.e(9)]).then(t.bind(null,441))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),M=function(){return r.a.createElement(K,null)},X=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/build/novel/index",component:A}),r.a.createElement(h.b,{path:"/build/novel/modify",component:R}),r.a.createElement(h.b,{path:"/build/novel/config/index",component:U}),r.a.createElement(h.b,{path:"/build/novel/config/create",component:M}),r.a.createElement(h.a,{exact:!0,from:"/build/novel",to:"/build/novel/index"}),r.a.createElement(h.a,{exact:!0,from:"/build/novel/config",to:"/build/novel/config/index"}))}}]),n}(a.PureComponent),G=J()({loader:function(){return t.e(5).then(t.bind(null,442))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),V=function(){return r.a.createElement(G,null)},q=J()({loader:function(){return Promise.all([t.e(0),t.e(1),t.e(8)]).then(t.bind(null,443))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),F=function(){return r.a.createElement(q,null)},H=J()({loader:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,444))},loading:function(){return r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),Q=function(){return r.a.createElement(H,null)},W=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/build/channel/index",component:V}),r.a.createElement(h.b,{path:"/build/channel/create",component:F}),r.a.createElement(h.b,{path:"/build/channel/update",component:F}),r.a.createElement(h.b,{path:"/build/channel/advertise",component:Q}),r.a.createElement(h.a,{exact:!0,from:"/build/channel",to:"/build/channel/index"}))}}]),n}(a.PureComponent),Y=t(47),Z=t(186),$=t(132),ee=t(135),ne=Object(Y.c)({novel:$.b,channel:ee.b}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,ae=Object(Y.e)(ne,te(Object(Y.a)(Z.a))),re=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(f.a,{store:ae},r.a.createElement(p.a,null,r.a.createElement(j,null),r.a.createElement(S,null),r.a.createElement("div",{style:{margin:"65px 0 0 241px"}},r.a.createElement(h.b,{path:"/",exact:!0,render:function(){return r.a.createElement(h.a,{to:"/build"})}}),r.a.createElement(h.b,{path:"/build",exact:!0,render:function(){return r.a.createElement(h.a,{to:"/build/novel"})}}),r.a.createElement("div",{style:{padding:"30px"}},r.a.createElement(h.b,{path:"/build/novel",component:X}),r.a.createElement(h.b,{path:"/build/channel",component:W})))))}}]),n}(a.PureComponent);t(369),t(370);u.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[201,3,4]]]);
//# sourceMappingURL=main.25a7a44f.chunk.js.map