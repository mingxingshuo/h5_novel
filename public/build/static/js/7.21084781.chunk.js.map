{"version":3,"sources":["pages/channel/advertise/index.js"],"names":["Advertise","button","_this","this","_this$props","props","list","keys","platform","index","adkey","location","handleKeyChange","handlePlatformChange","handleAdkeyChange","addItemToList","saveUpdateItem","updateItem","deleteAdItem","submitAdList","title","decodeURI","search","split","columns","key","dataIndex","align","render","item","record","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","react__WEBPACK_IMPORTED_MODULE_6__","antd__WEBPACK_IMPORTED_MODULE_9__","size","style","marginRight","type","onClick","marginLeft","antd__WEBPACK_IMPORTED_MODULE_10__","labelCol","sm","span","wrapperCol","Item","label","antd__WEBPACK_IMPORTED_MODULE_11__","value","placeholder","onChange","antd__WEBPACK_IMPORTED_MODULE_12__","bordered","dataSource","pagination","margin","history","goBack","getAdzones","resetState","PureComponent","connect","state","Object","F_git_work_faddish_admin_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","channel","ad_list","dispatch","id","actionCreators","e","target","withRouter"],"mappings":"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","file":"static/js/7.21084781.chunk.js","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreators } from '../store';\r\nimport { Form, Input, Table, Button } from \"antd\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Advertise extends PureComponent {\r\n  render() {\r\n    const { list, keys, platform, index, adkey, location, handleKeyChange, handlePlatformChange, handleAdkeyChange, addItemToList, saveUpdateItem, updateItem, deleteAdItem, submitAdList } = this.props;\r\n    const title = decodeURI(location.search.split('=')[2]);\r\n    const FormLabelCol = {\r\n      labelCol: {\r\n        sm: {span: 3}\r\n      },\r\n      wrapperCol: {\r\n        sm: {span: 8}\r\n      }\r\n    };\r\n    const columns = [\r\n      {\r\n        key: 'key',\r\n        dataIndex: 'key',\r\n        title: 'key',\r\n        align: 'center'\r\n      }, {\r\n        key: 'platform',\r\n        dataIndex: 'platform',\r\n        title: '广告名称',\r\n        align: 'center'\r\n      }, {\r\n        key: 'adkey',\r\n        dataIndex: 'adkey',\r\n        title: '广告名称',\r\n        align: 'center'\r\n      }, {\r\n        key: 'action',\r\n        title: 'Action',\r\n        align: 'center',\r\n        render(item, record, index) {\r\n          return (\r\n            <Fragment>\r\n              <Button size='small' style={{marginRight: '20px'}} type='primary' onClick={() => {updateItem(record, index)}}>修改</Button>\r\n              <Button size='small' type='danger' onClick={() => {deleteAdItem(index)}}>删除</Button>\r\n            </Fragment>\r\n          )\r\n        }\r\n      }\r\n    ];\r\n    let button;\r\n    if(keys && platform && adkey && index !== null) {\r\n      button = <Button style={{marginLeft: '130px'}} onClick={() => {saveUpdateItem(this.props)}}>保存</Button>\r\n    } else {\r\n      button = <Button style={{marginLeft: '130px'}} onClick={() => {addItemToList(this.props)}}>添加</Button>\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <Form {...FormLabelCol}>\r\n          <Form.Item label='渠道名称'>\r\n          <h3>{title}</h3>\r\n        </Form.Item>\r\n          <Form.Item label='key'>\r\n            <Input value={keys} placeholder='请输入key' onChange={handleKeyChange} />\r\n          </Form.Item>\r\n          <Form.Item label='广告平台'>\r\n            <Input value={platform} placeholder='请输入广告平台' onChange={handlePlatformChange} />\r\n          </Form.Item>\r\n          <Form.Item label='adkey'>\r\n            <Input value={adkey} placeholder='请输入adkey' onChange={handleAdkeyChange} />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            {button}\r\n          </Form.Item>\r\n        </Form>\r\n        <Table bordered columns={columns} dataSource={list} pagination={false} />\r\n        <div style={{margin: '30px 0 0 100px'}}>\r\n          <Button style={{marginRight: '20px'}} type='primary' onClick={() => {submitAdList(this.props)}}>提交</Button>\r\n          <Button type='danger' onClick={() => {this.props.history.goBack()}}>返回</Button>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n  componentDidMount() {\r\n    this.props.getAdzones(this.props.location.search.split('=')[1].split('&')[0]);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.resetState()\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  list: [...state.channel.ad_list],\r\n  keys: state.channel.keys,\r\n  platform: state.channel.platform,\r\n  adkey: state.channel.adkey,\r\n  index: state.channel.index\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n  getAdzones(id) {\r\n    dispatch(actionCreators.getAdzones(id))\r\n  },\r\n  handleKeyChange(e) {\r\n    let key = e.target.value;\r\n    dispatch(actionCreators.handleKeyChange(key))\r\n  },\r\n  handlePlatformChange(e) {\r\n    let platform = e.target.value;\r\n    dispatch(actionCreators.handlePlatformChange(platform))\r\n  },\r\n  handleAdkeyChange(e) {\r\n    let adkey = e.target.value;\r\n    dispatch(actionCreators.handleAdkeyChange(adkey))\r\n  },\r\n  addItemToList(props) {\r\n    dispatch(actionCreators.addItemToList(props))\r\n  },\r\n  saveUpdateItem(props) {\r\n    dispatch(actionCreators.saveUpdateItem(props))\r\n  },\r\n  updateItem(record, index) {\r\n    dispatch(actionCreators.updateItem(record, index))\r\n  },\r\n  deleteAdItem(index) {\r\n    dispatch(actionCreators.deleteAdItem(index))\r\n  },\r\n  submitAdList(props) {\r\n    dispatch(actionCreators.submitAdList(props))\r\n  },\r\n  resetState() {\r\n    dispatch(actionCreators.resetState())\r\n  }\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(withRouter(Advertise));"],"sourceRoot":""}